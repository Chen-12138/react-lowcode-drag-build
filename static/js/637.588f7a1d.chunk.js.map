{"version":3,"file":"static/js/637.588f7a1d.chunk.js","mappings":"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","sources":["webpack://ts-react-app/./src/components/Header/index.less?a192","webpack://ts-react-app/./src/components/Header/UserInfoModal/index.less?4d73","components/Header/UserInfoModal/index.tsx","components/Header/UserBtn/index.tsx","components/Header/index.tsx","custom-component/component-list.ts","webpack://ts-react-app/./src/components/Toolbar/index.less?6c30","components/Toolbar/index.tsx","webpack://ts-react-app/./src/views/Editor/index.less?24a0","webpack://ts-react-app/./src/components/ComponentList/index.less?0d3c","components/ComponentList/index.tsx","webpack://ts-react-app/./src/components/RealTimeComponentList/index.less?e016","components/RealTimeComponentList/index.tsx","components/SketchColor/index.tsx","webpack://ts-react-app/./src/components/CanvasAttr/index.less?8f21","components/CanvasAttr/index.tsx","webpack://ts-react-app/./src/components/Editor/ContextMenu/index.less?4865","components/Editor/ContextMenu/index.tsx","webpack://ts-react-app/./src/components/Editor/Grid/index.less?3f23","components/Editor/Grid/index.tsx","webpack://ts-react-app/./src/components/Editor/ComponentWrap/index.less?be1c","components/Editor/ComponentWrap/const.ts","components/Editor/ComponentWrap/index.tsx","webpack://ts-react-app/./src/components/Editor/index.less?6802","webpack://ts-react-app/./src/components/Editor/Area/index.less?817d","components/Editor/Area/index.tsx","components/Editor/index.tsx","utils/attr.ts","custom-component/common/CommonAttr.tsx","custom-component/Text/TextAttr.tsx","custom-component/Button/ButtonAttr.tsx","custom-component/Rect/RectAttr.tsx","custom-component/Circle/CircleAttr.tsx","custom-component/Image/ImageAttr.tsx","utils/animationClassData.ts","webpack://ts-react-app/./src/components/AnimationList/index.less?ff32","hook/useAnimationAction.ts","components/AnimationList/AnimationSettingModal/index.tsx","components/AnimationList/index.tsx","components/EventList/index.tsx","hook/useEventAction.ts","hook/useKeyboard.ts","webpack://ts-react-app/./src/views/Editor/pageList/index.less?3503","views/Editor/pageList/index.tsx","views/Editor/index.tsx","webpack://ts-react-app/./src/views/Home/MyMaterial/index.less?df43","webpack://ts-react-app/./src/views/Home/MyMaterial/OperationMenu/index.less?ae51","views/Home/MyMaterial/OperationMenu/index.tsx","views/Home/MyMaterial/index.tsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"components-page-header\":\"index_components-page-header__Pr3YH\",\"page-header-inner\":\"index_page-header-inner__TsH1F\",\"logo-wrapper\":\"index_logo-wrapper__hRPiE\",\"header-center-wrapper\":\"index_header-center-wrapper__UGho8\",\"user-wrapper\":\"index_user-wrapper__MV+Q4\"};","// extracted by mini-css-extract-plugin\nexport default {\"user-info\":\"index_user-info__ihf+w\",\"item\":\"index_item__19k3T\",\"label\":\"index_label__4RX8u\"};","import { PlusOutlined } from \"@ant-design/icons\";\r\nimport { Modal, ModalProps, Upload } from \"antd\";\r\nimport styles from \"./index.less\";\r\n\r\ninterface UserInfoModalProps extends ModalProps {\r\n  userInfo: any;\r\n}\r\n\r\nconst UserInfoModal: React.FC<UserInfoModalProps> = ({\r\n  userInfo,\r\n  ...props\r\n}) => {\r\n  return (\r\n    <Modal width={400} footer={null} {...props}>\r\n      <div className={styles[\"user-info\"]}>\r\n        <Upload\r\n          style={{ display: \"block\", marginBottom: 20 }}\r\n          name=\"avatar\"\r\n          listType=\"picture-card\"\r\n          showUploadList={false}\r\n          action=\"https://www.mocky.io/v2/5cc8019d300000980a055e76\"\r\n        >\r\n          <PlusOutlined />\r\n        </Upload>\r\n        <div className={styles[\"item\"]}>\r\n          <p className={styles[\"label\"]}>昵称：</p>\r\n          {userInfo?.username}\r\n        </div>\r\n        <div className={styles[\"item\"]}>\r\n          <p className={styles[\"label\"]}>用户名：</p>\r\n          {userInfo?.username}\r\n        </div>\r\n        <div className={styles[\"item\"]}>\r\n          <p className={styles[\"label\"]}>邮箱：</p>\r\n          {userInfo?.username}\r\n        </div>\r\n        <div className={styles[\"item\"]}>\r\n          <p className={styles[\"label\"]}>注册时间：</p>\r\n          {userInfo?.username}\r\n        </div>\r\n      </div>\r\n    </Modal>\r\n  );\r\n};\r\n\r\nexport default UserInfoModal;\r\n","import {\r\n  EditOutlined,\r\n  PoweroffOutlined,\r\n  UserOutlined,\r\n} from \"@ant-design/icons\";\r\nimport { Avatar, Button, Dropdown } from \"antd\";\r\nimport { useState } from \"react\";\r\nimport UserInfoModal from \"../UserInfoModal\";\r\nimport useUser from \"@/hook/useUser\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { State } from \"@/state/reducer\";\r\n\r\nconst UserBtn = () => {\r\n  const { userInfo } = useSelector((state: State) => state.user);\r\n  const [showUserModal, setShowUserModal] = useState(false);\r\n  const { isLogin, doLogOut, goLogin } = useUser();\r\n\r\n  const handleLoginOut = () => {\r\n    doLogOut();\r\n  };\r\n\r\n  const items = [\r\n    {\r\n      label: (\r\n        <div onClick={() => setShowUserModal(true)}>\r\n          <UserOutlined /> 个人资料\r\n        </div>\r\n      ),\r\n      key: \"item-1\",\r\n    },\r\n    {\r\n      label: (\r\n        <div>\r\n          <EditOutlined /> 修改密码\r\n        </div>\r\n      ),\r\n      key: \"item-2\",\r\n    },\r\n    {\r\n      label: (\r\n        <div onClick={handleLoginOut}>\r\n          <PoweroffOutlined /> 退出登录\r\n        </div>\r\n      ),\r\n      key: \"item-3\",\r\n    },\r\n  ];\r\n\r\n  return (\r\n    <>\r\n      {isLogin ? (\r\n        <Dropdown menu={{ items }}>\r\n          <div style={{ whiteSpace: \"nowrap\" }}>\r\n            <Avatar icon={<UserOutlined />} /> {userInfo?.username}\r\n          </div>\r\n        </Dropdown>\r\n      ) : (\r\n        <Button type=\"link\" onClick={goLogin}>\r\n          登录\r\n        </Button>\r\n      )}\r\n      <UserInfoModal\r\n        userInfo={userInfo}\r\n        open={showUserModal}\r\n        onCancel={() => setShowUserModal(false)}\r\n      />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default UserBtn;\r\n","import styles from \"./index.less\";\r\nimport logo from \"../../asset/img/logo.png\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { ReactElement } from \"react\";\r\nimport UserBtn from \"./UserBtn\";\r\n\r\ninterface HeaderProps {\r\n  children?: ReactElement;\r\n}\r\n\r\nconst Header: React.FC<HeaderProps> = ({ children }) => {\r\n  const navigate = useNavigate();\r\n\r\n  const linkToHome = () => {\r\n    navigate(\"/home/my-work\", {\r\n      replace: false,\r\n    });\r\n  };\r\n\r\n  const linkToLogin = () => {\r\n    navigate(\"/login\", {\r\n      replace: false,\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div className={styles[\"components-page-header\"]}>\r\n      <div className={styles[\"page-header-inner\"]}>\r\n        <div className={styles[\"logo-wrapper\"]} onClick={linkToHome}>\r\n          <img className=\"cursor-pointer\" src={logo} />\r\n          <span>Lucky H5</span>\r\n        </div>\r\n        <div className={styles[\"header-center-wrapper\"]}>{children}</div>\r\n        <div className={styles[\"user-wrapper\"]}>\r\n          <UserBtn />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n","// 公共样式\r\nexport const commonStyle = {\r\n  rotate: 0,\r\n  opacity: 1,\r\n};\r\n\r\nexport const commonAttr = {\r\n  animations: [],\r\n  events: {},\r\n  groupStyle: {}, // 当一个组件成为 Group 的子组件时使用\r\n  isLock: false, // 是否锁定组件\r\n  collapseName: \"style\", // 编辑组件时记录当前使用的是哪个折叠面板，再次回来时恢复上次打开的折叠面板，优化用户体验\r\n  linkage: {\r\n    duration: 0, // 过渡持续时间\r\n    data: [\r\n      // 组件联动\r\n      {\r\n        id: \"\", // 联动的组件 id\r\n        label: \"\", // 联动的组件名称\r\n        event: \"\", // 监听事件\r\n        style: [{ key: \"\", value: \"\" }], // 监听的事件触发时，需要改变的属性\r\n      },\r\n    ],\r\n  },\r\n};\r\n\r\nexport interface ComponentListItem {\r\n  component: string;\r\n  label: string;\r\n  propValue: string;\r\n  icon: string;\r\n  style: {\r\n    width: number;\r\n    height: number;\r\n    [x: string]: any;\r\n    // fontSize: string;\r\n    // fontWeight: number;\r\n    // lineHeight: string;\r\n    // letterSpacing: number;\r\n    // textAlign: string;\r\n    // verticalAlign: string;\r\n    // color: string;\r\n  };\r\n  animations?: any;\r\n  events?: any;\r\n  [x: string]: any;\r\n}\r\n\r\n// 编辑器左侧组件列表\r\nconst list: ComponentListItem[] = [\r\n  {\r\n    component: \"Text\",\r\n    label: \"文字\",\r\n    propValue: \"双击编辑文字\",\r\n    icon: \"wenben\",\r\n    style: {\r\n      width: 200,\r\n      height: 28,\r\n      fontSize: \"\",\r\n      fontWeight: 400,\r\n      lineHeight: \"\",\r\n      letterSpacing: 0,\r\n      textAlign: \"\",\r\n      color: \"\",\r\n    },\r\n  },\r\n  {\r\n    component: \"Button\",\r\n    label: \"按钮\",\r\n    propValue: \"双击编辑按钮\",\r\n    icon: \"anniu\",\r\n    style: {\r\n      width: 100,\r\n      height: 34,\r\n      borderWidth: 1,\r\n      borderColor: \"\",\r\n      borderRadius: \"\",\r\n      fontSize: \"\",\r\n      fontWeight: 400,\r\n      lineHeight: \"\",\r\n      letterSpacing: 0,\r\n      textAlign: \"\",\r\n      color: \"\",\r\n      backgroundColor: \"\",\r\n    },\r\n  },\r\n  {\r\n    component: \"Rect\",\r\n    label: \"矩形\",\r\n    propValue: \"\",\r\n    icon: \"xingzhuang-juxing\",\r\n    style: {\r\n      width: 100,\r\n      height: 100,\r\n      fontSize: \"\",\r\n      fontWeight: 400,\r\n      lineHeight: \"\",\r\n      letterSpacing: 0,\r\n      textAlign: \"center\",\r\n      color: \"\",\r\n      borderColor: \"#000\",\r\n      borderWidth: 1,\r\n      backgroundColor: \"#fff\",\r\n      borderStyle: \"solid\",\r\n      borderRadius: \"\",\r\n      verticalAlign: \"middle\",\r\n    },\r\n  },\r\n  {\r\n    component: \"Circle\",\r\n    label: \"圆形\",\r\n    propValue: \"\",\r\n    icon: \"radio-on\",\r\n    style: {\r\n      width: 100,\r\n      height: 100,\r\n      fontSize: \"\",\r\n      fontWeight: 400,\r\n      lineHeight: \"\",\r\n      letterSpacing: 0,\r\n      textAlign: \"center\",\r\n      color: \"\",\r\n      borderColor: \"#000\",\r\n      borderWidth: 1,\r\n      backgroundColor: \"#fff\",\r\n      borderStyle: \"solid\",\r\n      borderRadius: \"\",\r\n      verticalAlign: \"middle\",\r\n    },\r\n  },\r\n  {\r\n    component: \"Image\",\r\n    label: \"图片\",\r\n    propValue:\r\n      \"https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/b11570bf5df54cea9728f1765e3b9e7b~tplv-k3u1fbpfcp-watermark.image?\",\r\n    icon: \"tupian\",\r\n    style: {\r\n      width: 200,\r\n      height: 200,\r\n    },\r\n  },\r\n  {\r\n    component: \"Music\",\r\n    label: \"音乐\",\r\n    propValue:\r\n      \"https://other-web-ra01-sycdn.kuwo.cn/5c650cd4d3b798405ed9bfab4ae1fe18/63941698/resource/n3/320/31/1/1060334909.mp3\",\r\n    icon: \"tupian\",\r\n    style: {\r\n      width: 200,\r\n      height: 200,\r\n    },\r\n  },\r\n];\r\n\r\nfor (let i = 0, len = list.length; i < len; i++) {\r\n  const item = list[i];\r\n  //   item.style = { ...commonStyle, ...item.style };\r\n  list[i] = { ...commonAttr, ...item };\r\n}\r\n\r\nexport default list;\r\n","// extracted by mini-css-extract-plugin\nexport default {\"toolbar\":\"index_toolbar__EyRSS\",\"canvas-config\":\"index_canvas-config__UNbhC\"};","import { Button, InputNumber, Space, message } from \"antd\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport useAction, { getCurrentPage } from \"@/hook/useAction\";\r\nimport { ActionTypes } from \"@/state/constants/actionTypes\";\r\nimport { State } from \"@/state/reducer\";\r\nimport styles from \"./index.less\";\r\nimport html2canvas from \"html2canvas\";\r\nimport { updatePage } from \"@/api\";\r\nimport PreviewModal from \"../PreviewModal\";\r\nimport { useState } from \"react\";\r\n\r\nconst Toolbar = function () {\r\n  const { projectData, editor } = useSelector((state: State) => state.editor);\r\n  const dispatch = useDispatch();\r\n  const { undo, redo, clearCanvas } = useAction();\r\n  const [isShowPreviewModal, setIsShowPreviewModal] = useState(false);\r\n\r\n  const handleChange = (type: string, val: number | null) => {\r\n    dispatch({\r\n      type: ActionTypes.SetCanvasStyleData,\r\n      payload: {\r\n        width: type === \"width\" ? val : projectData.width,\r\n        height: type === \"height\" ? val : projectData.height,\r\n        scale: type === \"scale\" ? val : projectData.scale,\r\n      },\r\n    });\r\n  };\r\n\r\n  const handleScreenshot = () => {\r\n    html2canvas(editor, { useCORS: true }).then(function (canvas) {\r\n      document.body.appendChild(canvas);\r\n    });\r\n  };\r\n\r\n  const handleSave = async () => {\r\n    try {\r\n      await updatePage(projectData);\r\n      message.success(\"保存成功\");\r\n    } catch {\r\n      message.error(\"保存失败\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Space className={styles.toolbar}>\r\n      {/* <Button>JSON</Button> */}\r\n      <Button onClick={undo}>撤销</Button>\r\n      <Button onClick={redo}>重做</Button>\r\n      <Button onClick={clearCanvas}>清空画布</Button>\r\n      <Button onClick={handleScreenshot}>截图</Button>\r\n      <div className={styles[\"canvas-config\"]}>\r\n        <span>画布大小</span>\r\n        <InputNumber\r\n          type=\"text\"\r\n          value={projectData.width}\r\n          onChange={(val) => handleChange(\"width\", val)}\r\n        />\r\n        <span>*</span>\r\n        <InputNumber\r\n          type=\"text\"\r\n          value={projectData.height}\r\n          onChange={(val) => handleChange(\"height\", val)}\r\n        />\r\n      </div>\r\n      <div className={styles[\"canvas-config\"]}>\r\n        <span>画布比例</span>\r\n        <InputNumber\r\n          type=\"text\"\r\n          value={projectData.scale}\r\n          onChange={(val) => handleChange(\"scale\", val)}\r\n        />{\" \"}\r\n        %\r\n      </div>\r\n      <Button style={{ marginLeft: 24 }} onClick={handleSave}>\r\n        保存项目\r\n      </Button>\r\n      <Button\r\n        style={{ marginLeft: 24 }}\r\n        onClick={() => setIsShowPreviewModal(true)}\r\n      >\r\n        保存预览\r\n      </Button>\r\n      {isShowPreviewModal && (\r\n        <PreviewModal\r\n          id={projectData._id}\r\n          open={isShowPreviewModal}\r\n          onClose={() => setIsShowPreviewModal(false)}\r\n        />\r\n      )}\r\n    </Space>\r\n  );\r\n};\r\n\r\nexport default Toolbar;\r\n","// extracted by mini-css-extract-plugin\nexport default {\"home\":\"index_home__T7o88\",\"left\":\"index_left__jrknh\",\"right\":\"index_right__az-uT\",\"attr-list\":\"index_attr-list__B-sIL\",\"center\":\"index_center__OJEkm\",\"content\":\"index_content__vMRWo\"};","// extracted by mini-css-extract-plugin\nexport default {\"component-list\":\"index_component-list__ylvdx\",\"component-item\":\"index_component-item__EKKY5\",\"iconfont\":\"index_iconfont__kUIzZ\",\"icon-wenben\":\"index_icon-wenben__D8B71\",\"icon-biaoge\":\"index_icon-biaoge__T1vfD\",\"icon-tupian\":\"index_icon-tupian__ChXHw\"};","import styles from \"./index.less\";\r\nimport componentList from \"@/custom-component/component-list\";\r\n\r\nconst ComponentList = function () {\r\n  const handleDragStart = function (e: any) {\r\n    e.dataTransfer.setData(\"index\", e.target.dataset.index);\r\n  };\r\n\r\n  return (\r\n    <div className={styles[\"component-list\"]} onDragStart={handleDragStart}>\r\n      {componentList.map((item, index) => {\r\n        return (\r\n          <div\r\n            className={styles[\"component-item\"]}\r\n            key={index}\r\n            draggable\r\n            data-index={index}\r\n          >\r\n            <span className={`iconfont icon-${item.icon}`}></span>\r\n          </div>\r\n        );\r\n      })}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ComponentList;\r\n","// extracted by mini-css-extract-plugin\nexport default {\"real-time-component-list\":\"index_real-time-component-list__7XXGa\",\"real-time-component-item\":\"index_real-time-component-item__QCdrt\",\"icon-container\":\"index_icon-container__4tQrG\",\"icon\":\"index_icon__87K-i\",\"actived\":\"index_actived__cqntY\"};","import { useSelector } from \"react-redux\";\r\nimport useAction, { getCurrentPage } from \"@/hook/useAction\";\r\nimport { State } from \"@/state/reducer\";\r\nimport styles from \"./index.less\";\r\n\r\nconst RealTimeComponentList = function () {\r\n  const currentPage = getCurrentPage();\r\n  const { componentData } = currentPage;\r\n  const { curComponentIndex } = useSelector((state: State) => state.editor);\r\n\r\n  const {\r\n    setCurComponent,\r\n    deleteComponent,\r\n    upComponent,\r\n    downComponent,\r\n    recordSnapshot,\r\n  } = useAction();\r\n\r\n  // 越往后层级越高，所以应该从后往前展示\r\n  const transformIndex = (index: number) => {\r\n    return componentData.length - 1 - index;\r\n  };\r\n\r\n  const getCompoent = (index: number) => {\r\n    return componentData[componentData.length - 1 - index];\r\n  };\r\n\r\n  const handleUpComponent = () => {\r\n    setTimeout(() => {\r\n      upComponent();\r\n      recordSnapshot();\r\n    });\r\n  };\r\n\r\n  const handleDownComponent = () => {\r\n    setTimeout(() => {\r\n      downComponent();\r\n      recordSnapshot();\r\n    });\r\n  };\r\n\r\n  const handleDeleteComponent = () => {\r\n    setTimeout(() => {\r\n      deleteComponent();\r\n      recordSnapshot();\r\n    });\r\n  };\r\n\r\n  const handleClick = (index: number) => {\r\n    setCurComponent({\r\n      curComponent: componentData[index],\r\n      curComponentIndex: index,\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div className={styles[\"real-time-component-list\"]}>\r\n      {componentData?.map((item, index) => {\r\n        return (\r\n          <div\r\n            className={`${styles[\"real-time-component-item\"]} ${\r\n              transformIndex(index) === curComponentIndex ? styles.actived : \"\"\r\n            }`}\r\n            key={item.id}\r\n            onClick={() => handleClick(transformIndex(index))}\r\n          >\r\n            <span\r\n              className={`iconfont ${\"icon-\" + getCompoent(index).icon} ${\r\n                styles.icon\r\n              }`}\r\n            ></span>\r\n            <span>{getCompoent(index).label}</span>\r\n            <div className={styles[\"icon-container\"]}>\r\n              <span\r\n                className={`iconfont icon-shangyi ${styles.icon}`}\r\n                onClick={handleUpComponent}\r\n              ></span>\r\n              <span\r\n                className={`iconfont icon-xiayi ${styles.icon}`}\r\n                onClick={handleDownComponent}\r\n              ></span>\r\n              <span\r\n                className={`iconfont icon-shanchu ${styles.icon}`}\r\n                onClick={handleDeleteComponent}\r\n              ></span>\r\n            </div>\r\n          </div>\r\n        );\r\n      })}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default RealTimeComponentList;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport reactCSS from \"reactcss\";\r\nimport { RGBColor, SketchPicker } from \"react-color\";\r\n\r\ninterface SketchColorPorps {\r\n  value?: string;\r\n  onChange?: (val: string) => string;\r\n}\r\n\r\nconst hexToRgba = (hex: string = \"\") => {\r\n  // 处理#fff缩写的情况\r\n  if (hex.length === 4) {\r\n    let arr = [];\r\n    let t = hex.slice(1);\r\n    arr = t.split(\"\");\r\n    hex = \"#\" + arr.map((item) => item + item).join(\"\");\r\n  }\r\n\r\n  return {\r\n    r: parseInt(\"0x\" + hex.slice(1, 3)),\r\n    g: parseInt(\"0x\" + hex.slice(3, 5)),\r\n    b: parseInt(\"0x\" + hex.slice(5, 7)),\r\n    a: 1,\r\n  };\r\n};\r\n\r\nconst SketchColor: React.FC<SketchColorPorps> = ({ value, onChange }) => {\r\n  const [displayColorPicker, setDisplayColorPicker] = useState(false);\r\n  const [colorData, setColorData] = useState({} as RGBColor);\r\n\r\n  useEffect(() => {\r\n    setColorData(hexToRgba(value));\r\n  }, [value]);\r\n\r\n  // rgbaTohex(color) {\r\n  //     return '#'+Number(color.r).toString(16)+Number(color.g).toString(16)+Number(color.b).toString(16);\r\n  // }\r\n\r\n  const handleClick = () => {\r\n    setDisplayColorPicker((state) => !state);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setDisplayColorPicker(false);\r\n  };\r\n\r\n  const handleChange = (color: { rgb: any; hex: string }) => {\r\n    onChange?.(color.hex);\r\n  };\r\n\r\n  const styles = reactCSS({\r\n    default: {\r\n      color: {\r\n        width: \"36px\",\r\n        height: \"14px\",\r\n        borderRadius: \"2px\",\r\n        background: `rgba(${colorData.r}, ${colorData.g}, ${colorData.b}, ${colorData.a})`,\r\n      },\r\n      swatch: {\r\n        padding: \"5px\",\r\n        background: \"#fff\",\r\n        borderRadius: \"1px\",\r\n        boxShadow: \"0 0 0 1px rgba(0,0,0,.1)\",\r\n        display: \"inline-block\",\r\n        cursor: \"pointer\",\r\n      },\r\n      popover: {\r\n        position: \"absolute\",\r\n        zIndex: 2,\r\n      },\r\n      cover: {\r\n        position: \"fixed\",\r\n        top: \"0px\",\r\n        right: \"0px\",\r\n        bottom: \"0px\",\r\n        left: \"0px\",\r\n      },\r\n    },\r\n  });\r\n\r\n  return (\r\n    <div>\r\n      <div style={styles.swatch} onClick={handleClick}>\r\n        <div style={styles.color} />\r\n      </div>\r\n      {displayColorPicker && (\r\n        <div style={styles.popover as any}>\r\n          <div style={styles.cover as any} onClick={handleClose} />\r\n          <SketchPicker color={colorData} onChange={handleChange} />\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default React.memo(SketchColor);\r\n","// extracted by mini-css-extract-plugin\nexport default {\"attr-container\":\"index_attr-container__Rg4t2\",\"title\":\"index_title__veC3V\"};","import { Form, Input, InputNumber } from \"antd\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { ActionTypes } from \"@/state/constants/actionTypes\";\r\nimport SketchColor from \"../SketchColor\";\r\nimport styles from \"./index.less\";\r\nimport { getCurrentPage } from \"@/hook/useAction\";\r\nimport { useEffect } from \"react\";\r\n\r\nconst CanvasAttr = function () {\r\n  const currentPage = getCurrentPage();\r\n  const dispatch = useDispatch();\r\n  const [form] = Form.useForm();\r\n\r\n  const handleChange = (style: string, newStyle: any) => {\r\n    dispatch({\r\n      type: ActionTypes.SetPageStyle,\r\n      payload: newStyle,\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    form.setFieldsValue(currentPage.pageStyle);\r\n  }, [currentPage.pageStyle]);\r\n\r\n  return (\r\n    <div className={styles[\"attr-container\"]}>\r\n      <p className={styles[\"title\"]}>画布属性</p>\r\n      <Form\r\n        name=\"basic\"\r\n        layout=\"vertical\"\r\n        form={form}\r\n        onValuesChange={handleChange}\r\n        autoComplete=\"off\"\r\n      >\r\n        <Form.Item label=\"颜色\" name=\"color\">\r\n          <SketchColor />\r\n        </Form.Item>\r\n        <Form.Item label=\"不透明度\" name=\"opacity\">\r\n          <InputNumber />\r\n        </Form.Item>\r\n        <Form.Item label=\"背景颜色\" name=\"backgroundColor\">\r\n          <SketchColor />\r\n        </Form.Item>\r\n        <Form.Item label=\"字体大小\" name=\"fontSize\">\r\n          <InputNumber />\r\n        </Form.Item>\r\n        <Form.Item label=\"背景图片\" name=\"backgroundImage\">\r\n          <Input />\r\n        </Form.Item>\r\n      </Form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CanvasAttr;\r\n","// extracted by mini-css-extract-plugin\nexport default {\"contextmenu\":\"index_contextmenu__4HYtu\"};","import { useSelector } from \"react-redux\";\r\nimport useAction from \"@/hook/useAction\";\r\nimport { State } from \"@/state/reducer\";\r\nimport styles from \"./index.less\";\r\n\r\nconst ContextMenu: React.FC = function () {\r\n  const { menuLeft, menuTop, curComponent } = useSelector(\r\n    (state: State) => state.editor\r\n  );\r\n\r\n  const {\r\n    upComponent,\r\n    downComponent,\r\n    topComponent,\r\n    bottomComponent,\r\n    deleteComponent,\r\n    setClickComponentStatus,\r\n    recordSnapshot,\r\n    copy,\r\n    paste,\r\n    cut,\r\n  } = useAction();\r\n\r\n  const handleMouseUp = (e: any) => {\r\n    setClickComponentStatus(true);\r\n  };\r\n\r\n  const handleDelete = () => {\r\n    deleteComponent();\r\n    recordSnapshot();\r\n  };\r\n\r\n  const handleUp = () => {\r\n    upComponent();\r\n    recordSnapshot();\r\n  };\r\n\r\n  const handleDown = () => {\r\n    downComponent();\r\n    recordSnapshot();\r\n  };\r\n\r\n  const handleTop = () => {\r\n    topComponent();\r\n    recordSnapshot();\r\n  };\r\n\r\n  const handleBottom = () => {\r\n    bottomComponent();\r\n    recordSnapshot();\r\n  };\r\n\r\n  const handlePaste = () => {\r\n    paste(true);\r\n    recordSnapshot();\r\n  };\r\n\r\n  const handleCut = () => {\r\n    cut();\r\n    recordSnapshot();\r\n  };\r\n\r\n  return (\r\n    <div\r\n      className={styles.contextmenu}\r\n      style={{\r\n        top: menuTop,\r\n        left: menuLeft,\r\n      }}\r\n    >\r\n      <ul onMouseUp={handleMouseUp}>\r\n        {curComponent ? (\r\n          <>\r\n            <li onClick={copy}>复制</li>\r\n            <li onClick={handlePaste}>粘贴</li>\r\n            <li onClick={handleCut}>剪切</li>\r\n            <li onClick={handleDelete}>删除</li>\r\n            <li>锁定</li>\r\n            <li onClick={handleTop}>置顶</li>\r\n            <li onClick={handleBottom}>置底</li>\r\n            <li onClick={handleUp}>上移</li>\r\n            <li onClick={handleDown}>下移</li>\r\n          </>\r\n        ) : (\r\n          <li onClick={handlePaste}>粘贴</li>\r\n        )}\r\n      </ul>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ContextMenu;\r\n","// extracted by mini-css-extract-plugin\nexport default {\"grid\":\"index_grid__DBs4b\"};","import styles from \"./index.less\";\r\n\r\nconst Grid = function () {\r\n  return (\r\n    <svg\r\n      className={styles.grid}\r\n      width=\"100%\"\r\n      height=\"100%\"\r\n      xmlns=\"http://www.w3.org/2000/svg\"\r\n    >\r\n      <defs>\r\n        <pattern\r\n          id=\"smallGrid\"\r\n          width=\"7.236328125\"\r\n          height=\"7.236328125\"\r\n          patternUnits=\"userSpaceOnUse\"\r\n        >\r\n          <path\r\n            d=\"M 7.236328125 0 L 0 0 0 7.236328125\"\r\n            fill=\"none\"\r\n            stroke=\"rgba(207, 207, 207, 0.3)\"\r\n            stroke-width=\"1\"\r\n          ></path>\r\n        </pattern>\r\n        <pattern\r\n          id=\"grid\"\r\n          width=\"36.181640625\"\r\n          height=\"36.181640625\"\r\n          patternUnits=\"userSpaceOnUse\"\r\n        >\r\n          <rect\r\n            width=\"36.181640625\"\r\n            height=\"36.181640625\"\r\n            fill=\"url(#smallGrid)\"\r\n          ></rect>\r\n          <path\r\n            d=\"M 36.181640625 0 L 0 0 0 36.181640625\"\r\n            fill=\"none\"\r\n            stroke=\"rgba(186, 186, 186, 0.5)\"\r\n            stroke-width=\"1\"\r\n          ></path>\r\n        </pattern>\r\n      </defs>\r\n      <rect width=\"100%\" height=\"100%\" fill=\"url(#grid)\"></rect>\r\n    </svg>\r\n  );\r\n};\r\n\r\nexport default Grid;\r\n","// extracted by mini-css-extract-plugin\nexport default {\"component-wrap\":\"index_component-wrap__Du6xy\",\"active\":\"index_active__XsMbB\",\"wrap-point\":\"index_wrap-point__xZMIL\"};","// 八个方向\r\nexport const pointList = [\"lt\", \"t\", \"rt\", \"r\", \"rb\", \"b\", \"lb\", \"l\"];\r\n\r\nexport const initialAngle: { [x: string]: number } = {\r\n  // 每个点对应的初始角度\r\n  lt: 0,\r\n  t: 45,\r\n  rt: 90,\r\n  r: 135,\r\n  rb: 180,\r\n  b: 225,\r\n  lb: 270,\r\n  l: 315,\r\n};\r\n\r\nexport const angleToCursor = [\r\n  // 每个范围的角度对应的光标\r\n  { start: 338, end: 23, cursor: \"nw\" },\r\n  { start: 23, end: 68, cursor: \"n\" },\r\n  { start: 68, end: 113, cursor: \"ne\" },\r\n  { start: 113, end: 158, cursor: \"e\" },\r\n  { start: 158, end: 203, cursor: \"se\" },\r\n  { start: 203, end: 248, cursor: \"s\" },\r\n  { start: 248, end: 293, cursor: \"sw\" },\r\n  { start: 293, end: 338, cursor: \"w\" },\r\n];\r\n","import { CSSProperties, ReactElement, useEffect, useMemo, useRef } from \"react\";\r\nimport { ComponentListItem } from \"@/custom-component/component-list\";\r\nimport useAction from \"@/hook/useAction\";\r\nimport styles from \"./index.less\";\r\nimport { pointList, initialAngle, angleToCursor } from \"./const\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { State } from \"@/state/reducer\";\r\nimport { mod360 } from \"@/utils/translate\";\r\nimport runAnimation from \"@/utils/runAnimation\";\r\n\r\ninterface ComponentWrapProps {\r\n  active?: boolean;\r\n  element: ComponentListItem;\r\n  index: number;\r\n  children: ReactElement;\r\n  defaultStyle: CSSProperties;\r\n  style: CSSProperties;\r\n}\r\n\r\nconst ComponentWrap: React.FC<ComponentWrapProps> = ({\r\n  active,\r\n  element,\r\n  index,\r\n  children,\r\n  defaultStyle,\r\n  style,\r\n}) => {\r\n  const { editor, curComponent } = useSelector((state: State) => state.editor);\r\n  const {\r\n    setCurComponent,\r\n    setComponentStyle,\r\n    setClickComponentStatus,\r\n    recordSnapshot,\r\n  } = useAction();\r\n\r\n  const ref = useRef<HTMLDivElement>(null);\r\n\r\n  const getPointStyle = (point: string) => {\r\n    let { width, height } = defaultStyle;\r\n    width = Number(width);\r\n    height = Number(height);\r\n    const hasT = /t/.test(point);\r\n    const hasB = /b/.test(point);\r\n    const hasL = /l/.test(point);\r\n    const hasR = /r/.test(point);\r\n    let newLeft = 0;\r\n    let newTop = 0;\r\n\r\n    // 四个角的点\r\n    if (point.length === 2) {\r\n      newLeft = hasL ? 0 : width;\r\n      newTop = hasT ? 0 : height;\r\n    } else {\r\n      // 上下两点的点，宽度居中\r\n      if (hasT || hasB) {\r\n        newLeft = width / 2;\r\n        newTop = hasT ? 0 : height;\r\n      }\r\n\r\n      // 左右两边的点，高度居中\r\n      if (hasL || hasR) {\r\n        newLeft = hasL ? 0 : width;\r\n        newTop = Math.floor(height / 2);\r\n      }\r\n    }\r\n\r\n    const style = {\r\n      marginLeft: \"-4px\",\r\n      marginTop: \"-4px\",\r\n      left: `${newLeft}px`,\r\n      top: `${newTop}px`,\r\n      cursor: cursors?.[point],\r\n    };\r\n\r\n    return style;\r\n  };\r\n\r\n  const getCursor = () => {\r\n    if (curComponent) {\r\n      // TODO，旋转的情况还没考虑\r\n      const rotate = curComponent.style.rotate;\r\n      const result: { [x: string]: string } = {};\r\n\r\n      pointList.forEach((point, index) => {\r\n        result[point] = angleToCursor[index].cursor + \"-resize\";\r\n      });\r\n      return result;\r\n    }\r\n  };\r\n\r\n  const handleMouseDown = (e: any) => {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n\r\n    setClickComponentStatus(true);\r\n    setCurComponent({ curComponent: element, curComponentIndex: index });\r\n\r\n    const pos = { ...defaultStyle };\r\n    const startY = e.clientY;\r\n    const startX = e.clientX;\r\n\r\n    const startTop = Number(pos.top);\r\n    const startLeft = Number(pos.left);\r\n\r\n    // 如果元素没有移动，则不保存快照\r\n    let hasMove = false;\r\n\r\n    const move = (moveEvent: any) => {\r\n      moveEvent.stopPropagation();\r\n      hasMove = true;\r\n\r\n      const curX = moveEvent.clientX;\r\n      const curY = moveEvent.clientY;\r\n      pos.top = curY - startY + startTop;\r\n      pos.left = curX - startX + startLeft;\r\n\r\n      setComponentStyle(pos);\r\n    };\r\n\r\n    const up = () => {\r\n      hasMove && recordSnapshot();\r\n      document.removeEventListener(\"mousemove\", move);\r\n      document.removeEventListener(\"mouseup\", up);\r\n    };\r\n\r\n    document.addEventListener(\"mousemove\", move);\r\n    document.addEventListener(\"mouseup\", up);\r\n  };\r\n\r\n  const handleMouseDownOnPoint = (point: string, e: any) => {\r\n    e.stopPropagation();\r\n    e.preventDefault();\r\n\r\n    const pos = { ...defaultStyle };\r\n    const width = Number(pos.width);\r\n    const height = Number(pos.height);\r\n    const left = Number(pos.left);\r\n    const top = Number(pos.top);\r\n    const startX = e.clientX;\r\n    const startY = e.clientY;\r\n\r\n    let needSave = false;\r\n\r\n    const move = (mouseEvent: any) => {\r\n      needSave = true;\r\n      const currX = mouseEvent.clientX;\r\n      const currY = mouseEvent.clientY;\r\n      const disY = currY - startY;\r\n      const disX = currX - startX;\r\n      const hasT = /t/.test(point);\r\n      const hasB = /b/.test(point);\r\n      const hasL = /l/.test(point);\r\n      const hasR = /r/.test(point);\r\n      const newHeight = height + (hasT ? -disY : hasB ? disY : 0);\r\n      const newWidth = width + (hasL ? -disX : hasR ? disX : 0);\r\n      pos.height = newHeight > 0 ? newHeight : 0;\r\n      pos.width = newWidth > 0 ? newWidth : 0;\r\n      pos.left = left + (hasL ? disX : 0);\r\n      pos.top = top + (hasT ? disY : 0);\r\n\r\n      setComponentStyle(pos);\r\n    };\r\n\r\n    const up = (e: any) => {\r\n      needSave && recordSnapshot();\r\n      document.removeEventListener(\"mousemove\", move);\r\n      document.removeEventListener(\"mouseup\", up);\r\n    };\r\n\r\n    document.addEventListener(\"mousemove\", move);\r\n    document.addEventListener(\"mouseup\", up);\r\n  };\r\n\r\n  const cursors = useMemo(() => {\r\n    return getCursor();\r\n  }, [curComponent, curComponent?.style.rotate]);\r\n\r\n  useEffect(() => {\r\n    if (!element.fns) {\r\n      element.fns = {};\r\n    }\r\n    if (element.animations.length > 0) {\r\n      element.fns[\"animation\"] = () => {\r\n        runAnimation(ref.current, element.animations);\r\n      };\r\n    }\r\n  }, [element.animations.length]);\r\n\r\n  return (\r\n    <div\r\n      ref={ref}\r\n      className={`${styles[\"component-wrap\"]} ${active ? styles.active : \"\"}`}\r\n      style={style}\r\n      onMouseDown={handleMouseDown}\r\n    >\r\n      {active && (\r\n        <>\r\n          {pointList.map((item) => (\r\n            <div\r\n              key={item}\r\n              className={styles[\"wrap-point\"]}\r\n              style={getPointStyle(item)}\r\n              onMouseDown={(event) => handleMouseDownOnPoint(item, event)}\r\n            ></div>\r\n          ))}\r\n        </>\r\n      )}\r\n      {children}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ComponentWrap;\r\n","// extracted by mini-css-extract-plugin\nexport default {\"editor\":\"index_editor__EaTrU\",\"lock\":\"index_lock__rJ0ak\",\"edit\":\"index_edit__u37wU\",\"component\":\"index_component__bQ64v\"};","// extracted by mini-css-extract-plugin\nexport default {\"area\":\"index_area__yudCs\"};","import { CSSProperties } from \"react\";\r\nimport styles from \"./index.less\";\r\n\r\ninterface AreaProps {\r\n  style: CSSProperties;\r\n}\r\n\r\nconst Area: React.FC<AreaProps> = ({ style }) => {\r\n  return <div className={styles.area} style={style}></div>;\r\n};\r\n\r\nexport default Area;\r\n","import { useEffect, useRef, useState } from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { State } from \"@/state/reducer\";\r\nimport ContextMenu from \"./ContextMenu\";\r\nimport Grid from \"./Grid\";\r\nimport ComponentWrap from \"./ComponentWrap\";\r\nimport Text from \"@/custom-component/Text\";\r\nimport styles from \"./index.less\";\r\nimport { ComponentListItem } from \"@/custom-component/component-list\";\r\nimport { getComponentWrapStyle, getStyle } from \"@/utils/style\";\r\nimport useAction, { getCurrentPage } from \"@/hook/useAction\";\r\nimport Button from \"@/custom-component/Button\";\r\nimport Rect from \"@/custom-component/Rect\";\r\nimport Circle from \"@/custom-component/Circle\";\r\nimport Image from \"@/custom-component/Image\";\r\nimport Area from \"./Area\";\r\nimport Music from \"@/custom-component/Music\";\r\n\r\ninterface AreaStyle {\r\n  top: number;\r\n  left: number;\r\n  width: number;\r\n  height: number;\r\n}\r\n\r\nconst EditorPlane = function () {\r\n  const currentPage = getCurrentPage();\r\n  const { projectData, curComponent, menuShow } = useSelector(\r\n    (state: State) => state.editor\r\n  );\r\n  const { pageStyle } = currentPage;\r\n  const { setEditor, showContextMenu, hideContextMenu } = useAction();\r\n  const editorRef = useRef<HTMLDivElement>({} as HTMLDivElement);\r\n  const [isShowArea, setIsShowArea] = useState(false);\r\n  const [areaStyle, setAreaStyle] = useState<AreaStyle>({\r\n    top: 0,\r\n    left: 0,\r\n    width: 0,\r\n    height: 0,\r\n  });\r\n\r\n  // 处理右键菜单\r\n  const handleContextMenu = (e: any) => {\r\n    e.stopPropagation();\r\n    e.preventDefault();\r\n\r\n    // 先获取编辑器的位移信息\r\n    const editorReactInfo = editorRef.current?.getBoundingClientRect();\r\n\r\n    const editorX = editorReactInfo?.x || 0;\r\n    const editorY = editorReactInfo?.y || 0;\r\n\r\n    showContextMenu({\r\n      top: e.clientY - editorY,\r\n      left: e.clientX - editorX,\r\n    });\r\n  };\r\n\r\n  // 点击事件\r\n  const handleClick = (e: any) => {\r\n    if (e.button !== 2 && menuShow) {\r\n      hideContextMenu();\r\n    }\r\n  };\r\n\r\n  const handleMouseDown = (e: any) => {\r\n    e.preventDefault();\r\n    const rectInfo = editorRef.current.getBoundingClientRect();\r\n    const editorX = rectInfo.x;\r\n    const editorY = rectInfo.y;\r\n\r\n    const startX = e.clientX - editorX;\r\n    const startY = e.clientY - editorY;\r\n\r\n    const move = (moveEvent: any) => {\r\n      // 展示选中区域\r\n      setIsShowArea(true);\r\n\r\n      const width = Math.abs(moveEvent.clientX - e.clientX);\r\n      const height = Math.abs(moveEvent.clientY - e.clientY);\r\n\r\n      setAreaStyle({\r\n        top: moveEvent.clientY - e.clientY > 0 ? startY : startY - height,\r\n        left: moveEvent.clientX - e.clientX > 0 ? startX : startX - width,\r\n        width,\r\n        height,\r\n      });\r\n    };\r\n\r\n    const up = () => {\r\n      setIsShowArea(false);\r\n      document.removeEventListener(\"mousemove\", move);\r\n      document.removeEventListener(\"mouseup\", up);\r\n    };\r\n\r\n    document.addEventListener(\"mousemove\", move);\r\n    document.addEventListener(\"mouseup\", up);\r\n  };\r\n\r\n  const getComponent = (item: ComponentListItem) => {\r\n    switch (item.component) {\r\n      case \"Text\": {\r\n        return <Text element={item} />;\r\n      }\r\n\r\n      case \"Button\": {\r\n        return <Button element={item} />;\r\n      }\r\n\r\n      case \"Rect\": {\r\n        return <Rect element={item} />;\r\n      }\r\n\r\n      case \"Circle\": {\r\n        return <Circle element={item} />;\r\n      }\r\n\r\n      case \"Image\": {\r\n        return <Image propValue={item.propValue} />;\r\n      }\r\n\r\n      case \"Music\": {\r\n        return <Music element={item} />;\r\n      }\r\n\r\n      default: {\r\n        return <Text element={item} />;\r\n      }\r\n    }\r\n  };\r\n\r\n  const getSelectComponent = () => {\r\n    const result: ComponentListItem[] = [];\r\n    // 区域的起点\r\n    const {\r\n      top: areaTop,\r\n      left: areaLeft,\r\n      width: areaWidth,\r\n      height: areaHeight,\r\n    } = areaStyle;\r\n    // 遍历所有组件，找出在选中区域内的组件\r\n    currentPage?.componentData.forEach((component) => {\r\n      const { left, top, width, height } = component;\r\n      if (\r\n        areaLeft <= left &&\r\n        areaTop <= top &&\r\n        left + width <= areaLeft + areaWidth &&\r\n        top + height <= areaTop + areaHeight\r\n      ) {\r\n        result.push(component);\r\n      }\r\n    });\r\n\r\n    return result;\r\n  };\r\n\r\n  // 因为其他页面也需要获取到Editor，所以直接把他放到redux里吧\r\n  useEffect(() => {\r\n    setEditor(editorRef.current);\r\n  }, []);\r\n\r\n  return (\r\n    <div\r\n      className={styles.editor}\r\n      ref={editorRef}\r\n      onContextMenu={handleContextMenu}\r\n      onMouseDown={handleMouseDown}\r\n      onClick={handleClick}\r\n      style={{\r\n        width: projectData.width,\r\n        height: projectData.height,\r\n        transform: `scale(${projectData.scale / 100})`,\r\n        ...pageStyle,\r\n        backgroundImage: pageStyle ? `url(${pageStyle.backgroundImage})` : \"\",\r\n      }}\r\n    >\r\n      {/* 网格 */}\r\n      <Grid />\r\n\r\n      {currentPage?.componentData?.map((item, index) => {\r\n        return (\r\n          <ComponentWrap\r\n            key={item.id}\r\n            defaultStyle={item.style}\r\n            style={getComponentWrapStyle(item.style)}\r\n            active={item.id === (curComponent || ({} as ComponentListItem)).id}\r\n            element={item}\r\n            index={index}\r\n          >\r\n            {getComponent(item)}\r\n          </ComponentWrap>\r\n        );\r\n      })}\r\n\r\n      {/* 右击菜单 */}\r\n      {menuShow && <ContextMenu />}\r\n\r\n      {/* 选中区域 */}\r\n      {isShowArea && <Area style={areaStyle} />}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default EditorPlane;\r\n","export interface StyleFormItem {\r\n  key: string;\r\n  label: string;\r\n}\r\n\r\nexport const styleData: StyleFormItem[] = [\r\n  { key: \"left\", label: \"x 坐标\" },\r\n  { key: \"top\", label: \"y 坐标\" },\r\n  { key: \"rotate\", label: \"旋转角度\" },\r\n  { key: \"width\", label: \"宽\" },\r\n  { key: \"height\", label: \"高\" },\r\n  { key: \"color\", label: \"颜色\" },\r\n  { key: \"backgroundColor\", label: \"背景色\" },\r\n  { key: \"borderWidth\", label: \"边框宽度\" },\r\n  { key: \"borderStyle\", label: \"边框风格\" },\r\n  { key: \"borderColor\", label: \"边框颜色\" },\r\n  { key: \"borderRadius\", label: \"边框半径\" },\r\n  { key: \"fontSize\", label: \"字体大小\" },\r\n  { key: \"fontWeight\", label: \"字体粗细\" },\r\n  { key: \"lineHeight\", label: \"行高\" },\r\n  { key: \"letterSpacing\", label: \"字间距\" },\r\n  { key: \"textAlign\", label: \"左右对齐\" },\r\n  { key: \"verticalAlign\", label: \"上下对齐\" },\r\n  { key: \"opacity\", label: \"不透明度\" },\r\n];\r\n\r\ninterface OptionType {\r\n  label: string;\r\n  value: string;\r\n}\r\n\r\nexport const textAlignOptions: OptionType[] = [\r\n  {\r\n    label: \"左对齐\",\r\n    value: \"left\",\r\n  },\r\n  {\r\n    label: \"居中\",\r\n    value: \"center\",\r\n  },\r\n  {\r\n    label: \"右对齐\",\r\n    value: \"right\",\r\n  },\r\n];\r\n\r\nexport const borderStyleOptions: OptionType[] = [\r\n  {\r\n    label: \"实线\",\r\n    value: \"solid\",\r\n  },\r\n  {\r\n    label: \"虚线\",\r\n    value: \"dashed\",\r\n  },\r\n];\r\n\r\nexport const verticalAlignOptions: OptionType[] = [\r\n  {\r\n    label: \"上对齐\",\r\n    value: \"top\",\r\n  },\r\n  {\r\n    label: \"居中对齐\",\r\n    value: \"middle\",\r\n  },\r\n  {\r\n    label: \"下对齐\",\r\n    value: \"bottom\",\r\n  },\r\n];\r\n\r\nexport const selectKey = [\"textAlign\", \"borderStyle\", \"verticalAlign\"];\r\n\r\nexport const optionMap: { [x: string]: OptionType[] } = {\r\n  textAlign: textAlignOptions,\r\n  borderStyle: borderStyleOptions,\r\n  verticalAlign: verticalAlignOptions,\r\n};\r\n","import { Form, InputNumber, Select, Collapse } from \"antd\";\r\nimport { useEffect, useMemo } from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport SketchColor from \"@/components/SketchColor\";\r\nimport useAction from \"@/hook/useAction\";\r\nimport { State } from \"@/state/reducer\";\r\nimport { optionMap, styleData } from \"@/utils/attr\";\r\n\r\nconst { Panel } = Collapse;\r\n\r\nconst CommonAttr = () => {\r\n  const { curComponent } = useSelector((state: State) => state.editor);\r\n  const { setComponentStyle } = useAction();\r\n  const [form] = Form.useForm();\r\n  const styleKeys = useMemo(() => {\r\n    const cur = curComponent || { style: {} };\r\n    const curComponentStyleKeys = Object.keys(cur.style);\r\n    return styleData.filter((item) => curComponentStyleKeys.includes(item.key));\r\n  }, [curComponent]);\r\n\r\n  const getFormItem = (key: string) => {\r\n    if (key.indexOf(\"Color\") >= 0 || key.indexOf(\"color\") >= 0) {\r\n      return <SketchColor key={key} />;\r\n    } else if (key in optionMap) {\r\n      return <Select key={key} options={optionMap[key]} />;\r\n    } else {\r\n      return <InputNumber key={key} />;\r\n    }\r\n  };\r\n\r\n  const onChange = (key: string | string[]) => {\r\n    if (curComponent) {\r\n      curComponent.collapseName = key;\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    form.setFieldsValue(curComponent?.style);\r\n  }, [curComponent?.style, form]);\r\n\r\n  return (\r\n    <Collapse defaultActiveKey={[\"style\"]} onChange={onChange} ghost>\r\n      <Panel header=\"通用样式\" key=\"style\">\r\n        <Form\r\n          name=\"basic\"\r\n          layout=\"vertical\"\r\n          form={form}\r\n          onValuesChange={(_, val) => {\r\n            setComponentStyle(val);\r\n          }}\r\n          autoComplete=\"off\"\r\n        >\r\n          {styleKeys.map(({ key, label }, index) => {\r\n            return (\r\n              <Form.Item label={label} name={key} key={index}>\r\n                {getFormItem(key)}\r\n              </Form.Item>\r\n            );\r\n          })}\r\n        </Form>\r\n      </Panel>\r\n      {/* <Panel header=\"This is panel header 2\" key=\"2\">\r\n        测试\r\n      </Panel> */}\r\n    </Collapse>\r\n  );\r\n};\r\n\r\nexport default CommonAttr;\r\n","import CommonAttr from \"../common/CommonAttr\";\r\nimport useAction from \"@/hook/useAction\";\r\nimport { State } from \"@/state/reducer\";\r\nimport { Form, Input } from \"antd\";\r\nimport { useSelector } from \"react-redux\";\r\n\r\nconst TextAttr = () => {\r\n  const { curComponent } = useSelector((state: State) => state.editor);\r\n  const { setComponentContent } = useAction();\r\n\r\n  return (\r\n    <div>\r\n      <h3>TextAttr</h3>\r\n      <CommonAttr />\r\n      <Form\r\n        layout=\"vertical\"\r\n        initialValues={{ content: curComponent?.propValue }}\r\n        onValuesChange={(val) => {\r\n          if (curComponent) {\r\n            setComponentContent(val.content);\r\n          }\r\n        }}\r\n      >\r\n        <Form.Item name=\"content\" label=\"内容\">\r\n          <Input placeholder=\"请输入文案\" autoComplete=\"off\" />\r\n        </Form.Item>\r\n      </Form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TextAttr;\r\n","import useAction from \"@/hook/useAction\";\r\nimport { State } from \"@/state/reducer\";\r\nimport { Form, Input } from \"antd\";\r\nimport { useSelector } from \"react-redux\";\r\nimport CommonAttr from \"../common/CommonAttr\";\r\n\r\nconst ButtonAttr = () => {\r\n  const { curComponent } = useSelector((state: State) => state.editor);\r\n  const { setComponentContent } = useAction();\r\n\r\n  return (\r\n    <div>\r\n      <h3>ButtonAttr</h3>\r\n      <CommonAttr />\r\n      <Form\r\n        layout=\"vertical\"\r\n        initialValues={{ content: curComponent?.propValue }}\r\n        onValuesChange={(val) => {\r\n          if (curComponent) {\r\n            setComponentContent(val.content);\r\n          }\r\n        }}\r\n      >\r\n        <Form.Item name=\"content\" label=\"内容\">\r\n          <Input placeholder=\"请输入文案\" autoComplete=\"off\" />\r\n        </Form.Item>\r\n      </Form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ButtonAttr;\r\n","import CommonAttr from \"../common/CommonAttr\";\r\nimport { State } from \"@/state/reducer\";\r\nimport { Input, Form } from \"antd\";\r\nimport { useSelector } from \"react-redux\";\r\nimport useAction from \"@/hook/useAction\";\r\n\r\nconst RectAttr = () => {\r\n  const { curComponent } = useSelector((state: State) => state.editor);\r\n  const { setComponentContent } = useAction();\r\n\r\n  return (\r\n    <div>\r\n      <h3>RectAttr</h3>\r\n      <CommonAttr />\r\n      <Form\r\n        layout=\"vertical\"\r\n        initialValues={{ content: curComponent?.propValue }}\r\n        onValuesChange={(val) => {\r\n          if (curComponent) {\r\n            setComponentContent(val.content);\r\n          }\r\n        }}\r\n      >\r\n        <Form.Item name=\"content\" label=\"内容\">\r\n          <Input placeholder=\"请输入文案\" autoComplete=\"off\" />\r\n        </Form.Item>\r\n      </Form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default RectAttr;\r\n","import useAction from \"@/hook/useAction\";\r\nimport { State } from \"@/state/reducer\";\r\nimport { Input, Form } from \"antd\";\r\nimport { useSelector } from \"react-redux\";\r\nimport CommonAttr from \"../common/CommonAttr\";\r\n\r\nconst CircleAttr = () => {\r\n  const { curComponent } = useSelector((state: State) => state.editor);\r\n  const { setComponentContent } = useAction();\r\n\r\n  return (\r\n    <div>\r\n      <h3>CircleAttr</h3>\r\n      <CommonAttr />\r\n      <Form\r\n        layout=\"vertical\"\r\n        initialValues={{ content: curComponent?.propValue }}\r\n        onValuesChange={(val) => {\r\n          if (curComponent) {\r\n            setComponentContent(val.content);\r\n          }\r\n        }}\r\n      >\r\n        <Form.Item name=\"content\" label=\"内容\">\r\n          <Input placeholder=\"请输入文案\" autoComplete=\"off\" />\r\n        </Form.Item>\r\n      </Form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CircleAttr;\r\n","import { Form, Input } from \"antd\";\r\nimport { useSelector } from \"react-redux\";\r\nimport useAction from \"@/hook/useAction\";\r\nimport { State } from \"@/state/reducer\";\r\nimport CommonAttr from \"../common/CommonAttr\";\r\n\r\nconst ImageAttr = () => {\r\n  const { curComponent } = useSelector((state: State) => state.editor);\r\n\r\n  const { updateComponentPropValue } = useAction();\r\n\r\n  const handleChange = (val: string) => {\r\n    updateComponentPropValue(val);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h3>Image Attr</h3>\r\n      <CommonAttr />\r\n      <Form.Item>\r\n        <Input\r\n          value={curComponent?.propValue}\r\n          onChange={(e) => {\r\n            handleChange(e.target.value);\r\n          }}\r\n        />\r\n      </Form.Item>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ImageAttr;\r\n","export interface AnimationItem {\r\n  label: string;\r\n  value: string;\r\n  animationTime?: number;\r\n  pending?: boolean;\r\n  isLoop?: boolean;\r\n  [x: string]: any;\r\n}\r\n\r\nexport interface AnimationClassData {\r\n  label: string;\r\n  children: AnimationItem[];\r\n}\r\n\r\nconst animationClassData: AnimationClassData[] = [\r\n  {\r\n    label: \"进入\",\r\n    children: [\r\n      { label: \"渐显\", value: \"animate__fadeIn\" },\r\n      { label: \"向右进入\", value: \"animate__fadeInLeft\" },\r\n      { label: \"向左进入\", value: \"animate__fadeInRight\" },\r\n      { label: \"向上进入\", value: \"animate__fadeInUp\" },\r\n      { label: \"向下进入\", value: \"animate__fadeInDown\" },\r\n      { label: \"向右长距进入\", value: \"animate__fadeInLeftBig\" },\r\n      { label: \"向左长距进入\", value: \"animate__fadeInRightBig\" },\r\n      { label: \"向上长距进入\", value: \"animate__fadeInUpBig\" },\r\n      { label: \"向下长距进入\", value: \"animate__fadeInDownBig\" },\r\n      { label: \"旋转进入\", value: \"animate__rotateIn\" },\r\n      { label: \"左顺时针旋转\", value: \"animate__rotateInDownLeft\" },\r\n      { label: \"右逆时针旋转\", value: \"animate__rotateInDownRight\" },\r\n      { label: \"左逆时针旋转\", value: \"animate__rotateInUpLeft\" },\r\n      { label: \"右逆时针旋转\", value: \"animate__rotateInUpRight\" },\r\n      { label: \"弹入\", value: \"animate__bounceIn\" },\r\n      { label: \"向右弹入\", value: \"animate__bounceInLeft\" },\r\n      { label: \"向左弹入\", value: \"animate__bounceInRight\" },\r\n      { label: \"向上弹入\", value: \"animate__bounceInUp\" },\r\n      { label: \"向下弹入\", value: \"animate__bounceInDown\" },\r\n      { label: \"光速从右进入\", value: \"animate__lightSpeedInRight\" },\r\n      { label: \"光速从右退出\", value: \"animate__lightSpeedOutRight\" },\r\n      { label: \"光速从左进入\", value: \"animate__lightSpeedInLeft\" },\r\n      { label: \"光速从左退出\", value: \"animate__lightSpeedOutLeft\" },\r\n      { label: \"中心X轴旋转\", value: \"animate__flipInX\" },\r\n      { label: \"中心Y轴旋转\", value: \"animate__flipInY\" },\r\n      { label: \"左长半径旋转\", value: \"animate__rollIn\" },\r\n      { label: \"由小变大进入\", value: \"animate__zoomIn\" },\r\n      { label: \"左变大进入\", value: \"animate__zoomInLeft\" },\r\n      { label: \"右变大进入\", value: \"animate__zoomInRight\" },\r\n      { label: \"向上变大进入\", value: \"animate__zoomInUp\" },\r\n      { label: \"向下变大进入\", value: \"animate__zoomInDown\" },\r\n      { label: \"向右滑动展开\", value: \"animate__slideInLeft\" },\r\n      { label: \"向左滑动展开\", value: \"animate__slideInRight\" },\r\n      { label: \"向上滑动展开\", value: \"animate__slideInUp\" },\r\n      { label: \"向下滑动展开\", value: \"animate__slideInDown\" },\r\n    ],\r\n  },\r\n  {\r\n    label: \"强调\",\r\n    children: [\r\n      { label: \"弹跳\", value: \"animate__bounce\" },\r\n      { label: \"闪烁\", value: \"animate__flash\" },\r\n      { label: \"放大缩小\", value: \"animate__pulse\" },\r\n      { label: \"放大缩小弹簧\", value: \"animate__rubberBand\" },\r\n      { label: \"左右晃动\", value: \"animate__headShake\" },\r\n      { label: \"左右扇形摇摆\", value: \"animate__swing\" },\r\n      { label: \"放大晃动缩小\", value: \"animate__tada\" },\r\n      { label: \"扇形摇摆\", value: \"animate__wobble\" },\r\n      { label: \"左右上下晃动\", value: \"animate__jello\" },\r\n      { label: \"Y轴旋转\", value: \"animate__flip\" },\r\n    ],\r\n  },\r\n  {\r\n    label: \"退出\",\r\n    children: [\r\n      { label: \"渐隐\", value: \"animate__fadeOut\" },\r\n      { label: \"向左退出\", value: \"animate__fadeOutLeft\" },\r\n      { label: \"向右退出\", value: \"animate__fadeOutRight\" },\r\n      { label: \"向上退出\", value: \"animate__fadeOutUp\" },\r\n      { label: \"向下退出\", value: \"animate__fadeOutDown\" },\r\n      { label: \"向左长距退出\", value: \"animate__fadeOutLeftBig\" },\r\n      { label: \"向右长距退出\", value: \"animate__fadeOutRightBig\" },\r\n      { label: \"向上长距退出\", value: \"animate__fadeOutUpBig\" },\r\n      { label: \"向下长距退出\", value: \"animate__fadeOutDownBig\" },\r\n      { label: \"旋转退出\", value: \"animate__rotateOut\" },\r\n      { label: \"左顺时针旋转\", value: \"animate__rotateOutDownLeft\" },\r\n      { label: \"右逆时针旋转\", value: \"animate__rotateOutDownRight\" },\r\n      { label: \"左逆时针旋转\", value: \"animate__rotateOutUpLeft\" },\r\n      { label: \"右逆时针旋转\", value: \"animate__rotateOutUpRight\" },\r\n      { label: \"弹出\", value: \"animate__bounceOut\" },\r\n      { label: \"向左弹出\", value: \"animate__bounceOutLeft\" },\r\n      { label: \"向右弹出\", value: \"animate__bounceOutRight\" },\r\n      { label: \"向上弹出\", value: \"animate__bounceOutUp\" },\r\n      { label: \"向下弹出\", value: \"animate__bounceOutDown\" },\r\n      { label: \"中心X轴旋转\", value: \"animate__flipOutX\" },\r\n      { label: \"中心Y轴旋转\", value: \"animate__flipOutY\" },\r\n      { label: \"左长半径旋转\", value: \"animate__rollOut\" },\r\n      { label: \"由小变大退出\", value: \"animate__zoomOut\" },\r\n      { label: \"左变大退出\", value: \"animate__zoomOutLeft\" },\r\n      { label: \"右变大退出\", value: \"animate__zoomOutRight\" },\r\n      { label: \"向上变大退出\", value: \"animate__zoomOutUp\" },\r\n      { label: \"向下变大退出\", value: \"animate__zoomOutDown\" },\r\n      { label: \"向左滑动收起\", value: \"animate__slideOutLeft\" },\r\n      { label: \"向右滑动收起\", value: \"animate__slideOutRight\" },\r\n      { label: \"向上滑动收起\", value: \"animate__slideOutUp\" },\r\n      { label: \"向下滑动收起\", value: \"animate__slideOutDown\" },\r\n    ],\r\n  },\r\n];\r\n\r\nanimationClassData.forEach((item) => {\r\n  item.children.forEach((e) => {\r\n    // 是否在运行动画\r\n    e.pending = false;\r\n\r\n    // 默认为不循环\r\n    e.isLoop = false;\r\n\r\n    // 动画默认运行时间\r\n    e.animationTime = 1;\r\n  });\r\n});\r\n\r\nexport default animationClassData;\r\n","// extracted by mini-css-extract-plugin\nexport default {\"animation-list\":\"index_animation-list__wRRhh\",\"cursor\":\"index_cursor__Dltwl\",\"div-animation\":\"index_div-animation__WDZP5\",\"animateWrap\":\"index_animateWrap__kIHSK\",\"animate\":\"index_animate__mO3pI\",\"tag-item\":\"index_tag-item__ijo5U\"};","import { useDispatch } from \"react-redux\";\r\nimport { ComponentListItem } from \"../custom-component/component-list\";\r\nimport { ActionTypes } from \"../state/constants/actionTypes\";\r\nimport { AnimationItem } from \"../utils/animationClassData\";\r\n\r\n/**\r\n * 处理动画的Action\r\n */\r\nexport default function useAnimationAction() {\r\n  const dispatch = useDispatch();\r\n\r\n  return {\r\n    addAnimation(animate: AnimationItem) {\r\n      dispatch({\r\n        type: ActionTypes.AddAnimation,\r\n        payload: animate,\r\n      });\r\n    },\r\n\r\n    eidtAnimation(index: number, animate: AnimationItem) {\r\n      dispatch({\r\n        type: ActionTypes.EditAnimation,\r\n        payload: {\r\n          index,\r\n          animate,\r\n        },\r\n      });\r\n    },\r\n\r\n    deleteAnimation(index: number) {\r\n      dispatch({\r\n        type: ActionTypes.DeleteAnimation,\r\n        payload: index,\r\n      });\r\n    },\r\n  };\r\n}\r\n","import { Form, InputNumber, Modal, ModalProps, Switch } from \"antd\";\r\nimport useAnimationAction from \"@/hook/useAnimationAction\";\r\nimport { AnimationItem } from \"@/utils/animationClassData\";\r\n\r\ninterface AnimationSettingModalProps extends ModalProps {\r\n  config?: AnimationItem;\r\n  curIndex: number;\r\n  onCancel: () => void;\r\n}\r\n\r\nconst AnimationSettingModal: React.FC<AnimationSettingModalProps> = ({\r\n  config,\r\n  curIndex,\r\n  onCancel,\r\n  ...props\r\n}) => {\r\n  const { eidtAnimation } = useAnimationAction();\r\n  const [form] = Form.useForm();\r\n\r\n  const handleOk = () => {\r\n    const values = form.getFieldsValue();\r\n    eidtAnimation(curIndex, values);\r\n    onCancel();\r\n  };\r\n\r\n  return (\r\n    <Modal\r\n      title={config?.label + \" 动画配置\"}\r\n      centered\r\n      okText={\"确定\"}\r\n      cancelText={\"取消\"}\r\n      onOk={handleOk}\r\n      onCancel={onCancel}\r\n      {...props}\r\n    >\r\n      <Form form={form} initialValues={{ ...config }} autoComplete=\"off\">\r\n        <Form.Item label=\"动画时长\" name=\"animationTime\">\r\n          <InputNumber min={0.1} precision={2} step={0.01} />\r\n        </Form.Item>\r\n        <Form.Item label=\"是否循环\" name=\"isLoop\" valuePropName=\"checked\">\r\n          <Switch />\r\n        </Form.Item>\r\n      </Form>\r\n    </Modal>\r\n  );\r\n};\r\n\r\nexport default AnimationSettingModal;\r\n","import { Button, Space, Drawer, Tabs, Tag } from \"antd\";\r\nimport { useState } from \"react\";\r\nimport animationClassData, {\r\n  AnimationItem,\r\n} from \"../../utils/animationClassData\";\r\nimport styles from \"./index.less\";\r\nimport runAnimation from \"../../utils/runAnimation\";\r\nimport React from \"react\";\r\nimport useAnimationAction from \"../../hook/useAnimationAction\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { State } from \"../../state/reducer\";\r\nimport AnimationSettingModal from \"./AnimationSettingModal\";\r\nimport { SettingOutlined } from \"@ant-design/icons\";\r\n\r\nconst AnimationList = () => {\r\n  const { curComponent } = useSelector((state: State) => state.editor);\r\n  const { addAnimation, deleteAnimation } = useAnimationAction();\r\n  const [showDrawer, setShowDrawer] = useState(false);\r\n  const refs: { [x: string]: React.RefObject<HTMLDivElement> } = {};\r\n  const [showSetting, setShowSetting] = useState(false);\r\n  const [animationConfig, setAnimationConfig] = useState<AnimationItem>();\r\n  const [curIndex, setCurIndex] = useState<number>(0);\r\n\r\n  const tabConfig = animationClassData.map((item) => {\r\n    item.children.forEach((animate) => {\r\n      refs[animate.value] = React.createRef();\r\n    });\r\n\r\n    let children = (\r\n      <div className={styles.animateWrap}>\r\n        {item.children.map((animate) => (\r\n          <div\r\n            ref={refs[animate.value]}\r\n            key={animate.value}\r\n            className={styles.animate}\r\n            onMouseEnter={() => handleRunAnimation(animate)}\r\n            onClick={() => handleAddAnimation(animate)}\r\n          >\r\n            <div>{animate.label}</div>\r\n          </div>\r\n        ))}\r\n      </div>\r\n    );\r\n    return {\r\n      label: item.label,\r\n      key: item.label,\r\n      children,\r\n    };\r\n  });\r\n\r\n  const handleRunAnimation = async (animate: AnimationItem) => {\r\n    if (animate.pending) return;\r\n\r\n    animate.pending = true;\r\n    await runAnimation(refs[animate.value].current, [animate]);\r\n\r\n    // 防止无限触发同一元素的动画\r\n    setTimeout(() => {\r\n      animate.pending = false;\r\n    }, 100);\r\n  };\r\n\r\n  const handleAddAnimation = (animate: AnimationItem) => {\r\n    addAnimation(animate);\r\n    setShowDrawer(false);\r\n  };\r\n\r\n  const previewAnimation = () => {\r\n    if (curComponent) {\r\n      curComponent.fns?.[\"animation\"]();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={styles[\"animation-list\"]}>\r\n      <div className={styles[\"div-animation\"]}>\r\n        <Space>\r\n          <Button onClick={() => setShowDrawer(true)}>添加动画</Button>\r\n          <Button onClick={previewAnimation}>预览动画</Button>\r\n        </Space>\r\n        <div>\r\n          {curComponent &&\r\n            curComponent.animations.map(\r\n              (animate: AnimationItem, index: number) => {\r\n                return (\r\n                  <Tag\r\n                    className={styles[\"tag-item\"]}\r\n                    key={index}\r\n                    color=\"blue\"\r\n                    icon={\r\n                      <SettingOutlined\r\n                        onClick={() => {\r\n                          setShowSetting(true);\r\n                          setAnimationConfig(animate);\r\n                          setCurIndex(index);\r\n                        }}\r\n                      />\r\n                    }\r\n                    closable\r\n                    onClose={() => {\r\n                      setCurIndex(index);\r\n                      deleteAnimation(index);\r\n                    }}\r\n                  >\r\n                    {animate.label}\r\n                  </Tag>\r\n                );\r\n              }\r\n            )}\r\n        </div>\r\n      </div>\r\n\r\n      <Drawer\r\n        width={420}\r\n        headerStyle={{ display: \"none\" }}\r\n        bodyStyle={{ paddingTop: 0, paddingRight: 0 }}\r\n        placement=\"left\"\r\n        open={showDrawer}\r\n        onClose={() => setShowDrawer(false)}\r\n      >\r\n        <Tabs items={tabConfig} />\r\n      </Drawer>\r\n\r\n      <AnimationSettingModal\r\n        config={animationConfig}\r\n        curIndex={curIndex}\r\n        open={showSetting}\r\n        onCancel={() => setShowSetting(false)}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AnimationList;\r\n","import useEventAction from \"@/hook/useEventAction\";\r\nimport { State } from \"@/state/reducer\";\r\nimport { eventList } from \"@/utils/event\";\r\nimport { Button, Drawer, Form, Input, InputRef, Tabs } from \"antd\";\r\nimport { useEffect, useRef, useState } from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\n\r\nconst EventList = () => {\r\n  const [showDrawer, setShowDrawer] = useState(false);\r\n  const { curComponent } = useSelector((state: State) => state.editor);\r\n  const { addEvent } = useEventAction();\r\n  const inputRef = useRef<InputRef>(null);\r\n  const [form] = Form.useForm();\r\n\r\n  const handleComfirm = (type: \"redirect\" | \"alert\") => {\r\n    let param = form.getFieldValue(type);\r\n    addEvent(type, param);\r\n  };\r\n\r\n  useEffect(() => {\r\n    form.setFieldsValue({\r\n      redirect: \"\",\r\n      alert: \"\",\r\n      ...curComponent?.events,\r\n    });\r\n  }, [curComponent]);\r\n\r\n  const tabConfig = eventList.map((item) => {\r\n    let children =\r\n      item.key === \"redirect\" ? (\r\n        <div>\r\n          <Form.Item name={\"redirect\"}>\r\n            <Input.TextArea ref={inputRef} placeholder=\"请输入完整的URL\" />\r\n          </Form.Item>\r\n          <Button\r\n            onClick={() => handleComfirm(\"redirect\")}\r\n            style={{ marginTop: 10 }}\r\n          >\r\n            确认\r\n          </Button>\r\n        </div>\r\n      ) : (\r\n        <div>\r\n          <Form.Item name={\"alert\"}>\r\n            <Input.TextArea ref={inputRef} placeholder=\"请输入要alert的内容\" />\r\n          </Form.Item>\r\n          <Button\r\n            onClick={() => handleComfirm(\"alert\")}\r\n            style={{ marginTop: 10 }}\r\n          >\r\n            确认\r\n          </Button>\r\n        </div>\r\n      );\r\n    return {\r\n      label: item.label,\r\n      key: item.label,\r\n      children,\r\n    };\r\n  });\r\n\r\n  return (\r\n    <>\r\n      <div>\r\n        <Button onClick={() => setShowDrawer(true)}>添加事件</Button>\r\n      </div>\r\n      <Form form={form} initialValues={curComponent?.events}>\r\n        <Drawer\r\n          width={420}\r\n          headerStyle={{ display: \"none\" }}\r\n          bodyStyle={{ paddingTop: 0, paddingRight: 0 }}\r\n          placement=\"left\"\r\n          open={showDrawer}\r\n          onClose={() => setShowDrawer(false)}\r\n        >\r\n          <Tabs items={tabConfig} />\r\n        </Drawer>\r\n      </Form>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default EventList;\r\n","import { ActionTypes } from \"@/state/constants/actionTypes\";\r\nimport { useDispatch } from \"react-redux\";\r\n\r\nexport default function useEventAction() {\r\n  const dispatch = useDispatch();\r\n\r\n  return {\r\n    addEvent(event: string, param: string) {\r\n      dispatch({\r\n        type: ActionTypes.Addevent,\r\n        payload: {\r\n          event,\r\n          param,\r\n        },\r\n      });\r\n    },\r\n\r\n    removeEvent(event: string) {\r\n      dispatch({\r\n        type: ActionTypes.RemoveEvent,\r\n        payload: {\r\n          event,\r\n        },\r\n      });\r\n    },\r\n  };\r\n}\r\n","import { useEffect } from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { State } from \"../state/reducer\";\r\nimport useAction from \"./useAction\";\r\n\r\ninterface MapType {\r\n  [x: string]: any;\r\n}\r\n\r\nconst ctrlKey = 17,\r\n  commandKey = 91, // mac command\r\n  vKey = 86, // 粘贴\r\n  cKey = 67, // 复制\r\n  xKey = 88, // 剪切\r\n  yKey = 89, // 重做\r\n  zKey = 90, // 撤销\r\n  sKey = 83, // 保存\r\n  pKey = 80, // 预览\r\n  dKey = 68, // 删除\r\n  deleteKey = 46, // 删除\r\n  eKey = 69; // 清空画布\r\n\r\nconst keycodes = [66, 67, 68, 69, 71, 76, 80, 83, 85, 86, 88, 89, 90];\r\n\r\nexport default function useKeyBoard() {\r\n  const { curComponent } = useSelector((state: State) => state.editor);\r\n\r\n  const {\r\n    copy,\r\n    paste,\r\n    cut,\r\n    undo,\r\n    redo,\r\n    recordSnapshot,\r\n    deleteComponent,\r\n    clearCanvas,\r\n  } = useAction();\r\n\r\n  // 与组件状态无关的操作\r\n  const basemap: MapType = {\r\n    [vKey]: handlePaste,\r\n    [yKey]: redo,\r\n    [zKey]: undo,\r\n    // [sKey]: save,\r\n    // [pKey]: preview,\r\n    [eKey]: clearCanvas,\r\n  };\r\n\r\n  // 组件锁定状态下可以执行的操作\r\n  const lockMap: MapType = {\r\n    ...basemap,\r\n    // [uKey]: unlock,\r\n  };\r\n\r\n  // 组件未锁定状态下可以执行的操作\r\n  const unlockMap: MapType = {\r\n    ...basemap,\r\n    [cKey]: copy,\r\n    [xKey]: cut,\r\n  };\r\n\r\n  // 全局监听按键操作并执行相应命令\r\n  function listenGlobalKeyDown() {\r\n    let isCtrlOrCommandDown = false;\r\n    window.onkeydown = (e) => {\r\n      const { keyCode } = e;\r\n      if (keyCode === ctrlKey || keyCode === commandKey) {\r\n        isCtrlOrCommandDown = true;\r\n      } else if (keyCode == deleteKey && curComponent) {\r\n        deleteComponent();\r\n        recordSnapshot();\r\n      } else if (isCtrlOrCommandDown) {\r\n        if (unlockMap[keyCode] && (!curComponent || !curComponent.isLock)) {\r\n          e.preventDefault();\r\n          unlockMap[keyCode]();\r\n        } else if (lockMap[keyCode] && curComponent && curComponent.isLock) {\r\n          e.preventDefault();\r\n          lockMap[keyCode]();\r\n        }\r\n      }\r\n    };\r\n\r\n    window.onkeyup = (e) => {\r\n      if (e.keyCode === ctrlKey || e.keyCode === commandKey) {\r\n        isCtrlOrCommandDown = false;\r\n      }\r\n    };\r\n  }\r\n\r\n  function handlePaste() {\r\n    paste();\r\n    recordSnapshot();\r\n  }\r\n\r\n  useEffect(() => {\r\n    // 执行监听函数\r\n    listenGlobalKeyDown();\r\n  }, []);\r\n}\r\n","// extracted by mini-css-extract-plugin\nexport default {\"pageList\":\"index_pageList__oRRCT\",\"addBtn\":\"index_addBtn__yrSBo\",\"pageItem\":\"index_pageItem__Knr95\",\"pageItemIndex\":\"index_pageItemIndex__+kx0C\",\"active\":\"index_active__dv4j+\"};","import useAction from \"@/hook/useAction\";\r\nimport { PageConfig } from \"../../../types/config\";\r\nimport {\r\n  EditOutlined,\r\n  PoweroffOutlined,\r\n  UserOutlined,\r\n} from \"@ant-design/icons\";\r\nimport { Button, Dropdown } from \"antd\";\r\nimport styles from \"./index.less\";\r\nimport { State } from \"@/state/reducer\";\r\nimport { shallowEqual, useSelector } from \"react-redux\";\r\ninterface PageListProps {\r\n  pageConfig?: PageConfig[];\r\n}\r\n\r\nconst PageList: React.FC<PageListProps> = ({ pageConfig }) => {\r\n  const { currentPageUUID } = useSelector(\r\n    (state: State) => state.editor,\r\n    shallowEqual\r\n  );\r\n  const { addPage, deletePage, copyPage, setCurrentPageUUID } = useAction();\r\n\r\n  return (\r\n    <div className={styles.pageList}>\r\n      <h2>页面管理</h2>\r\n      {pageConfig?.map((page, index) => {\r\n        return (\r\n          <div\r\n            className={`${styles.pageItem} ${\r\n              page.uuid === currentPageUUID ? styles.active : \"\"\r\n            }`}\r\n            key={page.uuid}\r\n            onClick={() => setCurrentPageUUID(page.uuid)}\r\n          >\r\n            <div>\r\n              <span className={styles.pageItemIndex}>{index + 1}</span>\r\n              <span>第{index + 1}页</span>\r\n            </div>\r\n            <Dropdown\r\n              menu={{\r\n                items: [\r\n                  {\r\n                    label: (\r\n                      <div\r\n                        onClick={(e) => {\r\n                          e.stopPropagation();\r\n                          addPage(page.uuid);\r\n                        }}\r\n                      >\r\n                        <UserOutlined /> 新增页面\r\n                      </div>\r\n                    ),\r\n                    key: \"add\",\r\n                  },\r\n                  {\r\n                    label: (\r\n                      <div\r\n                        onClick={(e) => {\r\n                          e.stopPropagation();\r\n                          copyPage(page.uuid);\r\n                        }}\r\n                      >\r\n                        <EditOutlined /> 复制页面\r\n                      </div>\r\n                    ),\r\n                    key: \"copy\",\r\n                  },\r\n                  {\r\n                    label: (\r\n                      <div\r\n                        onClick={(e) => {\r\n                          e.stopPropagation();\r\n                          deletePage(page.uuid);\r\n                        }}\r\n                      >\r\n                        <PoweroffOutlined /> 删除页面\r\n                      </div>\r\n                    ),\r\n                    key: \"delete\",\r\n                  },\r\n                ],\r\n              }}\r\n            >\r\n              <div>...</div>\r\n            </Dropdown>\r\n          </div>\r\n        );\r\n      })}\r\n      <Button\r\n        type=\"primary\"\r\n        className={styles.addBtn}\r\n        onClick={() => addPage()}\r\n      >\r\n        添加空白页面\r\n      </Button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PageList;\r\n","import Toolbar from \"@/components/Toolbar\";\r\nimport styles from \"./index.less\";\r\nimport ComponentList from \"@/components/ComponentList\";\r\nimport RealTimeComponentList from \"@/components/RealTimeComponentList\";\r\nimport { Tabs } from \"antd\";\r\nimport CanvasAttr from \"@/components/CanvasAttr\";\r\nimport EditorPlane from \"@/components/Editor\";\r\nimport { State } from \"@/state/reducer\";\r\nimport { shallowEqual, useSelector } from \"react-redux\";\r\nimport { cloneDeep } from \"lodash\";\r\nimport componentList from \"@/custom-component/component-list\";\r\nimport useAction from \"@/hook/useAction\";\r\nimport TextAttr from \"@/custom-component/Text/TextAttr\";\r\nimport ButtonAttr from \"@/custom-component/Button/ButtonAttr\";\r\nimport RectAttr from \"@/custom-component/Rect/RectAttr\";\r\nimport CircleAttr from \"@/custom-component/Circle/CircleAttr\";\r\nimport ImageAttr from \"@/custom-component/Image/ImageAttr\";\r\nimport AnimationList from \"@/components/AnimationList\";\r\nimport EventList from \"@/components/EventList\";\r\nimport \"animate.css\";\r\nimport useKeyBoard from \"@/hook/useKeyboard\";\r\nimport Header from \"@/components/Header\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { getPageDetail } from \"@/api\";\r\nimport PageList from \"./pageList\";\r\nimport MyMaterial from \"../Home/MyMaterial\";\r\n\r\nfunction Editor() {\r\n  const { projectData, editor, isClickComponent, curComponent } = useSelector(\r\n    (state: State) => state.editor\r\n  );\r\n  const {\r\n    setProjectData,\r\n    addComponent,\r\n    recordSnapshot,\r\n    setCurComponent,\r\n    setClickComponentStatus,\r\n  } = useAction();\r\n  // 监听键盘事件\r\n  useKeyBoard();\r\n  const { id } = useParams();\r\n\r\n  useEffect(() => {\r\n    async function getDetail() {\r\n      try {\r\n        const res = await getPageDetail(id || \"\");\r\n        setProjectData(res.result);\r\n      } catch (e) {\r\n        console.log(e);\r\n      }\r\n    }\r\n    getDetail();\r\n  }, []);\r\n\r\n  const handleDrop = (e: any) => {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n\r\n    const rectInfo = editor.getBoundingClientRect();\r\n\r\n    // 拖拽组件\r\n    const index = e.dataTransfer.getData(\"index\");\r\n    if (index) {\r\n      const component = cloneDeep(componentList[index]);\r\n      component.style.top = e.clientY - rectInfo.y;\r\n      component.style.left = e.clientX - rectInfo.x;\r\n      component.id = Math.random();\r\n\r\n      addComponent(component);\r\n      recordSnapshot();\r\n    }\r\n\r\n    // 拖拽图片\r\n    const url = e.dataTransfer.getData(\"url\");\r\n    if (url) {\r\n      const component = cloneDeep(\r\n        componentList.find((item) => item.component === \"Image\")\r\n      )!;\r\n      component.propValue = url;\r\n      component.style.top = e.clientY - rectInfo.y;\r\n      component.style.left = e.clientX - rectInfo.x;\r\n      component.id = Math.random();\r\n\r\n      addComponent(component);\r\n      recordSnapshot();\r\n    }\r\n  };\r\n\r\n  const handleDragOver = (e: any) => {\r\n    e.preventDefault();\r\n    e.dataTransfer.dropEffect = \"copy\";\r\n  };\r\n\r\n  const deSelectCurComponent = (e: any) => {\r\n    if (!isClickComponent) {\r\n      setCurComponent({ curComponent: null, curComponentIndex: null });\r\n    }\r\n  };\r\n\r\n  const handleMouseDown = (e: any) => {\r\n    e.stopPropagation();\r\n    setClickComponentStatus(false);\r\n  };\r\n\r\n  const getAttrComponent = (type: string) => {\r\n    switch (type) {\r\n      case \"Text\": {\r\n        return <TextAttr />;\r\n      }\r\n\r\n      case \"Button\": {\r\n        return <ButtonAttr />;\r\n      }\r\n\r\n      case \"Rect\": {\r\n        return <RectAttr />;\r\n      }\r\n\r\n      case \"Circle\": {\r\n        return <CircleAttr />;\r\n      }\r\n\r\n      case \"Image\": {\r\n        return <ImageAttr />;\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={styles.home}>\r\n      <Header>\r\n        <Toolbar />\r\n      </Header>\r\n\r\n      <main>\r\n        {/* 左侧列表 */}\r\n        <section className={styles.left}>\r\n          <Tabs\r\n            style={{ height: \"100%\" }}\r\n            tabPosition=\"left\"\r\n            defaultActiveKey=\"componentList\"\r\n            items={[\r\n              {\r\n                label: `组件列表`,\r\n                key: \"componentList\",\r\n                children: (\r\n                  <div>\r\n                    <ComponentList />\r\n                    <RealTimeComponentList />\r\n                  </div>\r\n                ),\r\n              },\r\n              {\r\n                label: `页面管理`,\r\n                key: \"page\",\r\n                children: <PageList pageConfig={projectData?.pages} />,\r\n              },\r\n              {\r\n                label: `素材列表`,\r\n                key: \"material\",\r\n                children: <MyMaterial isFrame={true} />,\r\n              },\r\n            ]}\r\n          />\r\n        </section>\r\n        {/* 中间画布 */}\r\n        <section className={styles.center}>\r\n          <div\r\n            className={styles.content}\r\n            onDrop={handleDrop}\r\n            onDragOver={handleDragOver}\r\n            onMouseDown={handleMouseDown}\r\n            onClick={deSelectCurComponent}\r\n          >\r\n            <EditorPlane />\r\n          </div>\r\n        </section>\r\n        {/* 右侧属性列表 */}\r\n        <section className={styles.right}>\r\n          {curComponent ? (\r\n            <Tabs\r\n              defaultActiveKey=\"attr\"\r\n              items={[\r\n                {\r\n                  label: `属性`,\r\n                  key: \"attr\",\r\n                  children: (\r\n                    <div className={styles[\"attr-list\"]}>\r\n                      {getAttrComponent(curComponent.component)}\r\n                    </div>\r\n                  ),\r\n                },\r\n                {\r\n                  label: `动画`,\r\n                  key: \"animation\",\r\n                  children: <AnimationList />,\r\n                },\r\n                {\r\n                  label: `事件`,\r\n                  key: \"events\",\r\n                  children: <EventList />,\r\n                },\r\n              ]}\r\n            />\r\n          ) : (\r\n            <CanvasAttr />\r\n          )}\r\n        </section>\r\n      </main>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Editor;\r\n","// extracted by mini-css-extract-plugin\nexport default {\"container\":\"index_container__wuX3Q\",\"frameContainer\":\"index_frameContainer__g05-I\",\"card\":\"index_card__2vJlv\"};","// extracted by mini-css-extract-plugin\nexport default {\"contextmenu\":\"index_contextmenu__JmTtx\"};","import styles from \"./index.less\";\r\nimport { addImageToMy, deleteImage, publishImage } from \"@/api\";\r\nimport { message } from \"antd\";\r\n\r\nexport type OperationBtnType = \"delete\" | \"publish\" | \"add\";\r\n\r\ninterface OperationMenuProps {\r\n  menuPosition: {\r\n    left: number;\r\n    top: number;\r\n  };\r\n  id: string;\r\n  btnList: OperationBtnType[];\r\n  refresh?: () => void;\r\n}\r\n\r\nconst OperationMenu: React.FC<OperationMenuProps> = function ({\r\n  menuPosition,\r\n  id,\r\n  btnList,\r\n  refresh,\r\n}) {\r\n  const handlePublishImage = async () => {\r\n    try {\r\n      await publishImage({ id });\r\n      message.success(\"发布图片成功\");\r\n    } catch (err) {\r\n      console.log(err);\r\n      message.error(\"发布图片失败\");\r\n    }\r\n  };\r\n\r\n  const handleDelete = async () => {\r\n    try {\r\n      await deleteImage({ id });\r\n      message.success(\"删除图片成功\");\r\n      refresh?.();\r\n    } catch (err) {\r\n      console.log(err);\r\n      message.error(\"删除图片失败\");\r\n    }\r\n  };\r\n\r\n  const handleAddToMy = async () => {\r\n    try {\r\n      await addImageToMy({ id });\r\n      message.success(\"添加成功\");\r\n      refresh?.();\r\n    } catch (err) {\r\n      console.log(err);\r\n      message.error(\"添加失败\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div\r\n      className={styles.contextmenu}\r\n      style={{\r\n        top: menuPosition.top,\r\n        left: menuPosition.left,\r\n      }}\r\n    >\r\n      <ul>\r\n        <>\r\n          {btnList.includes(\"publish\") && (\r\n            <li onClick={handlePublishImage}>发布</li>\r\n          )}\r\n          {btnList.includes(\"add\") && (\r\n            <li onClick={handleAddToMy}>添加至我的素材</li>\r\n          )}{\" \"}\r\n          {btnList.includes(\"delete\") && (\r\n            <li onClick={handleDelete}>删除素材</li>\r\n          )}\r\n        </>\r\n      </ul>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default OperationMenu;\r\n","import { getMyImages, getPublishImages } from \"@/api\";\r\nimport store from \"@/state/store\";\r\nimport { UploadOutlined } from \"@ant-design/icons\";\r\nimport {\r\n  Button,\r\n  Empty,\r\n  Spin,\r\n  Tabs,\r\n  TabsProps,\r\n  Upload,\r\n  UploadProps,\r\n  message,\r\n} from \"antd\";\r\nimport { useEffect, useState } from \"react\";\r\nimport styles from \"./index.less\";\r\nimport config from \"@/config\";\r\nimport OperationMenu from \"./OperationMenu\";\r\n\r\ninterface MyMaterialProps {\r\n  // 是否为嵌入到其他页面\r\n  isFrame?: boolean;\r\n}\r\n\r\nconst MyMaterial: React.FC<MyMaterialProps> = ({ isFrame = false }) => {\r\n  const [imageList, setImageList] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [currentId, setCurrentId] = useState(\"\");\r\n  const [menuShow, setMenuShow] = useState(false);\r\n  const [menuPosition, setMenuPosition] = useState({\r\n    left: 0,\r\n    top: 0,\r\n  });\r\n  const [currentTab, setCurrentTab] = useState(\"my\");\r\n\r\n  const props: UploadProps = {\r\n    name: \"file\",\r\n    action: config.uploadUrl,\r\n    headers: {\r\n      authorization: store.getState().user.access_token,\r\n    },\r\n    showUploadList: false,\r\n    onChange(info) {\r\n      setLoading(true);\r\n      if (info.file.status !== \"uploading\") {\r\n        console.log(info.file, info.fileList);\r\n      }\r\n      if (info.file.status === \"done\") {\r\n        message.success(`${info.file.name} 上传成功`);\r\n        getList();\r\n      } else if (info.file.status === \"error\") {\r\n        message.error(`${info.file.name} 上传失败`);\r\n        setLoading(false);\r\n      }\r\n    },\r\n  };\r\n\r\n  const getList = async (key: string = \"my\") => {\r\n    try {\r\n      setLoading(true);\r\n      let res;\r\n      if (key === \"my\") {\r\n        res = await getMyImages();\r\n      } else {\r\n        res = await getPublishImages();\r\n      }\r\n      setImageList(res?.result);\r\n      setLoading(false);\r\n    } catch (e) {\r\n      message.error(\"获取数据失败\");\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    getList();\r\n  }, []);\r\n\r\n  const handleDragStart = (e: any) => {\r\n    e.dataTransfer.setData(\"url\", e.target.dataset.url);\r\n  };\r\n\r\n  // 处理右键菜单\r\n  const handleContextMenu = (e: any) => {\r\n    e.stopPropagation();\r\n    e.preventDefault();\r\n    setMenuPosition({\r\n      top: e.clientY,\r\n      left: e.clientX,\r\n    });\r\n    setCurrentId(e.target.dataset.id);\r\n    setMenuShow(true);\r\n  };\r\n\r\n  // 点击事件\r\n  const handleClick = (e: any) => {\r\n    if (e.button !== 2 && menuShow) {\r\n      setMenuShow(false);\r\n    }\r\n  };\r\n\r\n  const items: TabsProps[\"items\"] = [\r\n    {\r\n      key: \"my\",\r\n      label: `我的素材`,\r\n    },\r\n    {\r\n      key: \"all\",\r\n      label: `素材广场`,\r\n    },\r\n  ];\r\n\r\n  const handleChange = (key: string) => {\r\n    setMenuShow(false);\r\n    setCurrentTab(key);\r\n    getList(key);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Tabs defaultActiveKey=\"my\" items={items} onChange={handleChange} />\r\n      <Spin spinning={loading} style={{ height: \"100%\" }}>\r\n        <>\r\n          {imageList.length ? (\r\n            <div\r\n              onClick={handleClick}\r\n              style={{ overflow: \"auto\", height: \"100%\" }}\r\n            >\r\n              {currentTab === \"my\" && (\r\n                <Upload {...props}>\r\n                  <Button type=\"primary\" icon={<UploadOutlined />}>\r\n                    上传图片\r\n                  </Button>\r\n                </Upload>\r\n              )}\r\n              <div style={{ display: \"flex\", flexWrap: \"wrap\", marginTop: 12 }}>\r\n                <div\r\n                  className={isFrame ? styles.frameContainer : styles.container}\r\n                  onDragStart={handleDragStart}\r\n                >\r\n                  {imageList.map((item: any) => {\r\n                    return (\r\n                      <div\r\n                        className={styles.card}\r\n                        key={item.url}\r\n                        draggable\r\n                        data-url={item.url}\r\n                        data-id={item._id}\r\n                        onContextMenu={handleContextMenu}\r\n                      >\r\n                        <img\r\n                          data-id={item._id}\r\n                          draggable={false}\r\n                          src={item.url}\r\n                          style={{ width: \"100%\", height: \"100%\" }}\r\n                        />\r\n                      </div>\r\n                    );\r\n                  })}\r\n                  {/* 右击菜单 */}\r\n                  {menuShow && (\r\n                    <OperationMenu\r\n                      btnList={\r\n                        currentTab === \"my\" ? [\"delete\", \"publish\"] : [\"add\"]\r\n                      }\r\n                      menuPosition={menuPosition}\r\n                      id={currentId}\r\n                      refresh={getList}\r\n                    />\r\n                  )}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          ) : (\r\n            <Empty style={{ marginTop: 12 }} />\r\n          )}\r\n        </>\r\n      </Spin>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default MyMaterial;\r\n"],"names":["userInfo","props","width","footer","className","styles","style","display","marginBottom","name","listType","showUploadList","action","PlusOutlined","username","useSelector","state","user","useState","showUserModal","setShowUserModal","useUser","isLogin","doLogOut","goLogin","items","label","onClick","UserOutlined","key","EditOutlined","PoweroffOutlined","menu","whiteSpace","icon","type","open","onCancel","children","navigate","useNavigate","replace","src","logo","editor","projectData","dispatch","useDispatch","useAction","undo","redo","clearCanvas","isShowPreviewModal","setIsShowPreviewModal","handleChange","val","ActionTypes","payload","height","scale","handleSave","updatePage","message","html2canvas","useCORS","then","canvas","document","body","appendChild","value","onChange","marginLeft","PreviewModal","id","_id","onClose","commonAttr","animations","events","groupStyle","isLock","collapseName","linkage","duration","data","event","list","component","propValue","fontSize","fontWeight","lineHeight","letterSpacing","textAlign","color","borderWidth","borderColor","borderRadius","backgroundColor","borderStyle","verticalAlign","i","len","length","item","onDragStart","e","dataTransfer","setData","target","dataset","index","componentList","draggable","componentData","getCurrentPage","curComponentIndex","setCurComponent","deleteComponent","upComponent","downComponent","recordSnapshot","transformIndex","getCompoent","handleUpComponent","setTimeout","handleDownComponent","handleDeleteComponent","map","curComponent","handleClick","SketchColor","displayColorPicker","setDisplayColorPicker","colorData","setColorData","useEffect","hex","t","slice","split","join","r","parseInt","g","b","a","hexToRgba","reactCSS","default","background","swatch","padding","boxShadow","cursor","popover","position","zIndex","cover","top","right","bottom","left","React","currentPage","Form","form","setFieldsValue","pageStyle","layout","onValuesChange","newStyle","autoComplete","menuLeft","menuTop","topComponent","bottomComponent","setClickComponentStatus","copy","paste","cut","handlePaste","onMouseUp","xmlns","patternUnits","d","fill","stroke","pointList","angleToCursor","start","end","active","element","defaultStyle","setComponentStyle","ref","useRef","getPointStyle","point","Number","hasT","test","hasB","hasL","hasR","newLeft","newTop","Math","floor","marginTop","cursors","useMemo","rotate","result","forEach","getCursor","fns","runAnimation","current","onMouseDown","preventDefault","stopPropagation","pos","startY","clientY","startX","clientX","startTop","startLeft","hasMove","move","moveEvent","curX","curY","addEventListener","up","removeEventListener","needSave","mouseEvent","currX","disY","disX","newHeight","newWidth","handleMouseDownOnPoint","menuShow","setEditor","showContextMenu","hideContextMenu","editorRef","isShowArea","setIsShowArea","areaStyle","setAreaStyle","getComponent","Text","Button","Rect","Circle","Image","Music","onContextMenu","editorReactInfo","getBoundingClientRect","editorX","x","editorY","y","rectInfo","abs","button","transform","backgroundImage","getComponentWrapStyle","styleData","optionMap","Panel","Collapse","styleKeys","cur","curComponentStyleKeys","Object","keys","filter","includes","getFormItem","indexOf","options","defaultActiveKey","ghost","header","_","setComponentContent","initialValues","content","placeholder","updateComponentPropValue","animationClassData","pending","isLoop","animationTime","useAnimationAction","addAnimation","animate","eidtAnimation","deleteAnimation","config","curIndex","title","centered","okText","cancelText","onOk","values","getFieldsValue","min","precision","step","valuePropName","showDrawer","setShowDrawer","refs","showSetting","setShowSetting","animationConfig","setAnimationConfig","setCurIndex","tabConfig","onMouseEnter","handleRunAnimation","handleAddAnimation","SettingOutlined","closable","headerStyle","bodyStyle","paddingTop","paddingRight","placement","addEvent","param","removeEvent","useEventAction","inputRef","handleComfirm","getFieldValue","redirect","alert","eventList","useKeyBoard","basemap","lockMap","unlockMap","isCtrlOrCommandDown","window","onkeydown","keyCode","onkeyup","listenGlobalKeyDown","pageConfig","currentPageUUID","shallowEqual","addPage","deletePage","copyPage","setCurrentPageUUID","page","uuid","isClickComponent","setProjectData","addComponent","useParams","getPageDetail","res","console","log","getDetail","Header","tabPosition","pages","MyMaterial","isFrame","onDrop","getData","cloneDeep","random","url","onDragOver","dropEffect","getAttrComponent","menuPosition","btnList","refresh","handlePublishImage","publishImage","handleDelete","deleteImage","handleAddToMy","addImageToMy","imageList","setImageList","loading","setLoading","currentId","setCurrentId","setMenuShow","setMenuPosition","currentTab","setCurrentTab","headers","authorization","store","access_token","info","file","status","fileList","getList","getMyImages","getPublishImages","handleContextMenu","spinning","overflow","UploadOutlined","flexWrap"],"sourceRoot":""}