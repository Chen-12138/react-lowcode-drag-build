{"version":3,"file":"static/js/235.c9da1444.chunk.js","mappings":"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","sources":["types/options.ts","webpack://ts-react-app/./src/components/PreviewModal/index.less?5d13","components/PreviewModal/index.tsx","webpack://ts-react-app/./src/custom-component/Button/index.less?9e7b","custom-component/Button/index.tsx","webpack://ts-react-app/./src/custom-component/Circle/index.less?9bdf","custom-component/Circle/index.tsx","custom-component/Image/index.tsx","webpack://ts-react-app/./src/custom-component/Music/index.less?9d9e","custom-component/Music/index.tsx","webpack://ts-react-app/./src/custom-component/Rect/index.less?04c6","custom-component/Rect/index.tsx","webpack://ts-react-app/./src/custom-component/Text/index.less?2b6a","custom-component/Text/index.tsx","hook/useAction.ts","utils/event.ts","utils/runAnimation.ts","utils/style.ts","webpack://ts-react-app/./src/views/View/index.less?59ae","webpack://ts-react-app/./src/components/PreviewComponentWrap/index.less?47b1","components/PreviewComponentWrap/index.tsx","views/View/index.tsx"],"sourcesContent":["import { FlipType, Status } from \"./config\";\r\n\r\n// 翻页方式\r\nexport const flipTypeOptions = [\r\n  {\r\n    label: \"上下翻页\",\r\n    value: FlipType.UpDown,\r\n  },\r\n  {\r\n    label: \"左右翻页\",\r\n    value: FlipType.LeftRight,\r\n  },\r\n];\r\n\r\n// 访问状态\r\nexport const statusOptions = [\r\n  {\r\n    label: \"允许访问\",\r\n    value: Status.Allow,\r\n  },\r\n  {\r\n    label: \"不允许访问\",\r\n    value: Status.NotAllow,\r\n  },\r\n];\r\n","// extracted by mini-css-extract-plugin\nexport default {\"view\":\"index_view__P3AL7\",\"btnWrap\":\"index_btnWrap__jAq0R\",\"btn\":\"index_btn__a84DX\"};","import { getPageDetail, updatePage } from \"@/api\";\r\nimport { ProjectConfig } from \"@/types/config\";\r\nimport { flipTypeOptions, statusOptions } from \"@/types/options\";\r\nimport View from \"@/views/View\";\r\nimport { LoadingOutlined, PlusOutlined } from \"@ant-design/icons\";\r\nimport {\r\n  Button,\r\n  Drawer,\r\n  DrawerProps,\r\n  Form,\r\n  Input,\r\n  Row,\r\n  Select,\r\n  Spin,\r\n  Upload,\r\n  UploadFile,\r\n  UploadProps,\r\n  message,\r\n} from \"antd\";\r\nimport { UploadChangeParam, RcFile } from \"antd/lib/upload\";\r\nimport { useEffect, useState } from \"react\";\r\nimport styles from \"./index.less\";\r\nimport store from \"@/state/store\";\r\nimport config from \"@/config\";\r\n\r\nconst { TextArea } = Input;\r\n\r\ninterface PreviewModalProps extends DrawerProps {\r\n  refresh?: () => void;\r\n  id?: string;\r\n  onClose: () => void;\r\n}\r\n\r\nconst PreviewModal: React.FC<PreviewModalProps> = ({\r\n  refresh,\r\n  id,\r\n  onClose,\r\n  ...props\r\n}) => {\r\n  const [spinLoading, setSpinLoading] = useState(false);\r\n  const [loading, setLoading] = useState(false);\r\n  const [imageUrl, setImageUrl] = useState<string>();\r\n  const [projectData, setProjectData] = useState<ProjectConfig>();\r\n  const [form] = Form.useForm();\r\n\r\n  const handleSave = async () => {\r\n    try {\r\n      await form.validateFields();\r\n      const values = form.getFieldsValue();\r\n      await updatePage({\r\n        ...projectData,\r\n        ...values,\r\n        coverImage:\r\n          values.coverImage?.[0]?.response?.result.url || values.coverImage[0],\r\n      });\r\n      setTimeout(() => {\r\n        onClose();\r\n      }, 500);\r\n      message.success(\"保存成功\");\r\n    } catch (e) {\r\n      message.error(\"保存失败\");\r\n    }\r\n  };\r\n\r\n  const handleSaveAndPublish = async () => {\r\n    try {\r\n      await form.validateFields();\r\n      const values = form.getFieldsValue();\r\n      await updatePage({\r\n        ...projectData,\r\n        ...values,\r\n        coverImage:\r\n          values.coverImage?.[0]?.response?.result.url || values.coverImage[0],\r\n        isPublish: true,\r\n      });\r\n      setTimeout(() => {\r\n        onClose();\r\n      }, 500);\r\n      message.success(\"保存并发布成功\");\r\n      refresh?.();\r\n    } catch (e) {\r\n      message.error(\"保存并发布成功\");\r\n    }\r\n  };\r\n\r\n  const handleChange = (value: any, values: ProjectConfig) => {\r\n    console.log(value);\r\n  };\r\n\r\n  useEffect(() => {\r\n    async function getDetail() {\r\n      try {\r\n        setSpinLoading(true);\r\n        const res = await getPageDetail(id || \"\");\r\n        setProjectData({\r\n          ...res.result,\r\n        });\r\n        form.setFieldsValue({\r\n          ...res.result,\r\n          coverImage: [res.result?.coverImage],\r\n        });\r\n        setImageUrl(res.result?.coverImage || require(\"@/asset/img/logo.png\"));\r\n        setSpinLoading(false);\r\n      } catch (e) {\r\n        setSpinLoading(false);\r\n        console.log(e);\r\n      }\r\n    }\r\n    if (id) {\r\n      getDetail();\r\n    }\r\n  }, []);\r\n\r\n  const getBase64 = (img: RcFile, callback: (url: string) => void) => {\r\n    const reader = new FileReader();\r\n    reader.addEventListener(\"load\", () => callback(reader.result as string));\r\n    reader.readAsDataURL(img);\r\n  };\r\n\r\n  const handleUploadChange: UploadProps[\"onChange\"] = (\r\n    info: UploadChangeParam<UploadFile>\r\n  ) => {\r\n    if (info.file.status === \"uploading\") {\r\n      setLoading(true);\r\n      return;\r\n    }\r\n    if (info.file.status === \"done\") {\r\n      // Get this url from response in real world.\r\n      getBase64(info.file.originFileObj as RcFile, (url) => {\r\n        setLoading(false);\r\n        setImageUrl(url);\r\n      });\r\n    }\r\n  };\r\n\r\n  const uploadButton = (\r\n    <div>\r\n      {loading ? <LoadingOutlined /> : <PlusOutlined />}\r\n      <div style={{ marginTop: 8 }}>Upload</div>\r\n    </div>\r\n  );\r\n\r\n  const normFile = (e: any) => {\r\n    console.log(\"Upload event:\", e);\r\n    if (Array.isArray(e)) {\r\n      return e;\r\n    }\r\n    console.log(e?.fileList[0]);\r\n    return e?.fileList;\r\n  };\r\n\r\n  return (\r\n    <Drawer\r\n      title=\"页面基础设置\"\r\n      width={560}\r\n      maskClosable={false}\r\n      onClose={onClose}\r\n      {...props}\r\n    >\r\n      <Spin spinning={spinLoading}>\r\n        <Form\r\n          layout=\"horizontal\"\r\n          labelAlign=\"left\"\r\n          labelCol={{ span: 6 }}\r\n          wrapperCol={{ span: 18 }}\r\n          form={form}\r\n          onValuesChange={handleChange}\r\n        >\r\n          <Row gutter={16}>\r\n            <Form.Item\r\n              name=\"coverImage\"\r\n              valuePropName=\"fileList\"\r\n              getValueFromEvent={normFile}\r\n            >\r\n              <Upload\r\n                listType=\"picture-card\"\r\n                className=\"avatar-uploader\"\r\n                showUploadList={false}\r\n                headers={{\r\n                  authorization: store.getState().user.access_token,\r\n                }}\r\n                action={config.uploadUrl}\r\n                onChange={handleUploadChange}\r\n              >\r\n                {imageUrl ? (\r\n                  <img src={imageUrl} alt=\"avatar\" style={{ width: \"100%\" }} />\r\n                ) : (\r\n                  uploadButton\r\n                )}\r\n              </Upload>\r\n            </Form.Item>\r\n          </Row>\r\n          <Form.Item label=\"标题\" name=\"title\">\r\n            <Input></Input>\r\n          </Form.Item>\r\n          <Form.Item label=\"描述\" name=\"description\">\r\n            <TextArea />\r\n          </Form.Item>\r\n          <Form.Item label=\"翻页方式\" name=\"flipType\">\r\n            <Select options={flipTypeOptions}></Select>\r\n          </Form.Item>\r\n          <Form.Item label=\"作品访问状态\" name=\"status\">\r\n            <Select options={statusOptions}></Select>\r\n          </Form.Item>\r\n        </Form>\r\n      </Spin>\r\n\r\n      <div className={styles.view}>\r\n        {projectData && <View id={id} projectData={projectData} />}\r\n      </div>\r\n      <div className={styles.btnWrap}>\r\n        <Button\r\n          type=\"primary\"\r\n          className={styles.btn}\r\n          onClick={handleSaveAndPublish}\r\n        >\r\n          保存并发布\r\n        </Button>\r\n        <Button className={styles.btn} onClick={handleSave}>\r\n          保存\r\n        </Button>\r\n        <Button className={styles.btn} onClick={onClose}>\r\n          取消\r\n        </Button>\r\n      </div>\r\n    </Drawer>\r\n  );\r\n};\r\n\r\nexport default PreviewModal;\r\n","// extracted by mini-css-extract-plugin\nexport default {\"button\":\"index_button__QsKQn\"};","import { ComponentListItem } from \"../component-list\";\r\nimport Text from \"../Text\";\r\nimport styles from \"./index.less\";\r\n\r\ninterface ButtonProps {\r\n  element: ComponentListItem;\r\n}\r\n\r\nconst Button: React.FC<ButtonProps> = function ({ element }) {\r\n  return (\r\n    <div className={styles.button} style={element.style}>\r\n      <Text element={element} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Button;\r\n","// extracted by mini-css-extract-plugin\nexport default {\"circle\":\"index_circle__FXthc\",\"preview\":\"index_preview__2WhI+\"};","import { ComponentListItem } from \"../component-list\";\r\nimport Text from \"../Text\";\r\nimport styles from \"./index.less\";\r\n\r\ninterface CircleProps {\r\n  element: ComponentListItem;\r\n}\r\n\r\nconst Circle: React.FC<CircleProps> = function ({ element }) {\r\n  return (\r\n    <div className={styles.circle} style={element.style}>\r\n      <Text element={element} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Circle;\r\n","interface ImageProps {\r\n  propValue: string;\r\n}\r\n\r\nconst Image: React.FC<ImageProps> = ({ propValue }) => {\r\n  return (\r\n    <img\r\n      style={{ height: \"100%\", width: \"100%\", overflow: \"hidden\" }}\r\n      src={propValue}\r\n      alt=\"\"\r\n    />\r\n  );\r\n};\r\n\r\nexport default Image;\r\n","// extracted by mini-css-extract-plugin\nexport default {\"music\":\"index_music__RPBgP\"};","import { ComponentListItem } from \"../component-list\";\r\nimport Text from \"../Text\";\r\nimport styles from \"./index.less\";\r\n\r\ninterface MusicProps {\r\n  element: ComponentListItem;\r\n}\r\n\r\nconst Music: React.FC<MusicProps> = function ({ element }) {\r\n  return (\r\n    <div className={styles.music} style={element.style}>\r\n      Music\r\n      <audio\r\n        autoPlay\r\n        src=\"https://other-web-ra01-sycdn.kuwo.cn/5c650cd4d3b798405ed9bfab4ae1fe18/63941698/resource/n3/320/31/1/1060334909.mp3\"\r\n      ></audio>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Music;\r\n","// extracted by mini-css-extract-plugin\nexport default {\"rect\":\"index_rect__fBigi\"};","import { ComponentListItem } from \"../component-list\";\r\nimport Text from \"../Text\";\r\nimport styles from \"./index.less\";\r\n\r\ninterface RectProps {\r\n  element: ComponentListItem;\r\n}\r\n\r\nconst Rect: React.FC<RectProps> = function ({ element }) {\r\n  return (\r\n    <div className={styles.rect} style={element.style}>\r\n      <Text element={element} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Rect;\r\n","// extracted by mini-css-extract-plugin\nexport default {\"text\":\"index_text__66qHR\",\"can-edit\":\"index_can-edit__99vF5\",\"preview\":\"index_preview__ydwEx\"};","import { useEffect, useRef, useState } from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { State } from \"@/state/reducer\";\r\nimport { ComponentListItem } from \"../component-list\";\r\nimport styles from \"./index.less\";\r\nimport useAction from \"@/hook/useAction\";\r\n\r\ninterface TextProps {\r\n  element: ComponentListItem;\r\n}\r\n\r\nconst Text: React.FC<TextProps> = function ({ element }) {\r\n  const { editMode, curComponent } = useSelector(\r\n    (state: State) => state.editor\r\n  );\r\n  const { setComponentContent } = useAction();\r\n  const [canEdit, setCanEdit] = useState(false);\r\n  const textRef = useRef({} as HTMLDivElement);\r\n\r\n  const setEdit = () => {\r\n    setCanEdit(true);\r\n    selectText(textRef.current);\r\n  };\r\n\r\n  const handleMouseDown = (e: any) => {\r\n    if (canEdit) {\r\n      e.stopPropagation();\r\n    }\r\n  };\r\n\r\n  const handleBlur = (e: any) => {\r\n    if (!e.target.contains(textRef.current)) {\r\n      return;\r\n    }\r\n    if (e.target !== textRef.current) {\r\n      setComponentContent(\r\n        { element, content: textRef.current.innerHTML } || \"&nbsp;\"\r\n      );\r\n      setCanEdit(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (curComponent !== element) {\r\n      setCanEdit(false);\r\n      clearSelectText();\r\n    }\r\n  }, [curComponent]);\r\n\r\n  useEffect(() => {\r\n    if (canEdit) {\r\n      window.addEventListener(\"click\", handleBlur, false);\r\n    } else {\r\n      window.removeEventListener(\"click\", handleBlur);\r\n    }\r\n  }, [canEdit]);\r\n\r\n  const selectText = (element: Node) => {\r\n    const selection = window.getSelection();\r\n    const range = document.createRange();\r\n    range.selectNodeContents(element);\r\n    if (selection) {\r\n      selection.removeAllRanges();\r\n      selection.addRange(range);\r\n    }\r\n  };\r\n\r\n  const clearSelectText = () => {\r\n    const selection = window.getSelection();\r\n    if (selection) {\r\n      selection.removeAllRanges();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {editMode === \"edit\" ? (\r\n        <div className={styles.text}>\r\n          <div\r\n            ref={textRef}\r\n            className={` ${canEdit ? styles[\"can-edit\"] : \"\"}`}\r\n            style={{ verticalAlign: element.style.verticalAlign }}\r\n            contentEditable={canEdit}\r\n            onDoubleClick={setEdit}\r\n            onMouseDown={handleMouseDown}\r\n            dangerouslySetInnerHTML={{ __html: element.propValue }}\r\n          ></div>\r\n        </div>\r\n      ) : (\r\n        <div className={` ${canEdit ? styles[\"can-edit\"] : \"\"}`}>\r\n          {element.propValue}\r\n        </div>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Text;\r\n","import { CSSProperties } from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { ComponentListItem } from \"../custom-component/component-list\";\r\nimport {\r\n  ActionTypes,\r\n  ContextMenuInfo,\r\n  SetCurComponentPayload,\r\n} from \"../state/constants/actionTypes\";\r\nimport { PageConfig, ProjectConfig } from \"@/types/config\";\r\nimport store from \"@/state/store\";\r\nimport { EditorState } from \"@/state/reducers/editor\";\r\n\r\n/**\r\n * 将dispath action 写成一个hook吧，dispath代码太多了，而且不好看\r\n */\r\nexport default function useAction() {\r\n  const dispatch = useDispatch();\r\n\r\n  return {\r\n    setProjectData(project: ProjectConfig) {\r\n      dispatch({\r\n        type: ActionTypes.SetProjectData,\r\n        payload: project,\r\n      });\r\n    },\r\n\r\n    setCurrentPageUUID(uuid?: string) {\r\n      dispatch({\r\n        type: ActionTypes.SetCurrentPageUUID,\r\n        payload: uuid,\r\n      });\r\n    },\r\n\r\n    addPage(uuid?: string) {\r\n      dispatch({\r\n        type: ActionTypes.AddPage,\r\n        payload: uuid,\r\n      });\r\n    },\r\n\r\n    deletePage(uuid?: string) {\r\n      dispatch({\r\n        type: ActionTypes.DeletePage,\r\n        payload: uuid,\r\n      });\r\n    },\r\n\r\n    copyPage(uuid?: string) {\r\n      dispatch({\r\n        type: ActionTypes.CopyPage,\r\n        payload: uuid,\r\n      });\r\n    },\r\n\r\n    setEditor(editor: any) {\r\n      dispatch({\r\n        type: ActionTypes.SetEditor,\r\n        payload: editor,\r\n      });\r\n    },\r\n\r\n    addComponent(component: ComponentListItem) {\r\n      dispatch({\r\n        type: ActionTypes.AddComponent,\r\n        payload: component,\r\n      });\r\n    },\r\n\r\n    setCurComponent({\r\n      curComponent,\r\n      curComponentIndex,\r\n    }: SetCurComponentPayload) {\r\n      dispatch({\r\n        type: ActionTypes.SetCurComponent,\r\n        payload: {\r\n          curComponent,\r\n          curComponentIndex,\r\n        },\r\n      });\r\n    },\r\n\r\n    setWrapStyle(stlyes: any) {\r\n      dispatch({\r\n        type: ActionTypes.SetWrapStyle,\r\n        payload: stlyes,\r\n      });\r\n    },\r\n\r\n    setClickComponentStatus(status: boolean) {\r\n      dispatch({\r\n        type: ActionTypes.SetClickComponentStatus,\r\n        payload: status,\r\n      });\r\n    },\r\n\r\n    setComponetData(componentData: ComponentListItem[]) {\r\n      dispatch({\r\n        type: ActionTypes.SetComponentData,\r\n        payload: componentData,\r\n      });\r\n    },\r\n\r\n    setComponentStyle(style: CSSProperties) {\r\n      dispatch({\r\n        type: ActionTypes.SetComponentStyle,\r\n        payload: style,\r\n      });\r\n    },\r\n\r\n    setComponentContent(payload: {\r\n      element: ComponentListItem;\r\n      content: string;\r\n    }) {\r\n      dispatch({\r\n        type: ActionTypes.SetComponentContent,\r\n        payload,\r\n      });\r\n    },\r\n\r\n    deleteComponent(index?: number) {\r\n      dispatch({\r\n        type: ActionTypes.DeleteComponent,\r\n        payload: index,\r\n      });\r\n    },\r\n\r\n    upComponent() {\r\n      dispatch({\r\n        type: ActionTypes.UpComponent,\r\n      });\r\n    },\r\n\r\n    downComponent() {\r\n      dispatch({\r\n        type: ActionTypes.DownComponent,\r\n      });\r\n    },\r\n\r\n    topComponent() {\r\n      dispatch({\r\n        type: ActionTypes.TopComponent,\r\n      });\r\n    },\r\n\r\n    bottomComponent() {\r\n      dispatch({\r\n        type: ActionTypes.BottomComponent,\r\n      });\r\n    },\r\n\r\n    updateComponentPropValue(propValue: string) {\r\n      dispatch({\r\n        type: ActionTypes.UpdateComponentPropValue,\r\n        payload: propValue,\r\n      });\r\n    },\r\n\r\n    recordSnapshot() {\r\n      dispatch({\r\n        type: ActionTypes.RecordSnapshot,\r\n      });\r\n    },\r\n\r\n    undo() {\r\n      dispatch({\r\n        type: ActionTypes.Undo,\r\n      });\r\n    },\r\n\r\n    redo() {\r\n      dispatch({\r\n        type: ActionTypes.Redo,\r\n      });\r\n    },\r\n\r\n    copy() {\r\n      dispatch({\r\n        type: ActionTypes.Copy,\r\n      });\r\n    },\r\n\r\n    paste(isMouse?: boolean) {\r\n      dispatch({\r\n        type: ActionTypes.Paste,\r\n        payload: isMouse,\r\n      });\r\n    },\r\n\r\n    cut() {\r\n      dispatch({\r\n        type: ActionTypes.Cut,\r\n      });\r\n    },\r\n\r\n    showContextMenu(info: ContextMenuInfo) {\r\n      dispatch({\r\n        type: ActionTypes.ShowContextMenu,\r\n        payload: info,\r\n      });\r\n    },\r\n\r\n    hideContextMenu() {\r\n      dispatch({\r\n        type: ActionTypes.HideContextMenu,\r\n      });\r\n    },\r\n\r\n    clearCanvas() {\r\n      console.log(\"clear\");\r\n      dispatch({\r\n        type: ActionTypes.SetComponentData,\r\n        payload: [],\r\n      });\r\n      dispatch({\r\n        type: ActionTypes.SetCurComponent,\r\n        payload: {\r\n          curComponent: null,\r\n          curComponentIndex: null,\r\n        },\r\n      });\r\n      dispatch({\r\n        type: ActionTypes.RecordSnapshot,\r\n      });\r\n    },\r\n  };\r\n}\r\n\r\nexport const getCurrentPage = () => {\r\n  const { projectData, currentPageUUID } = store.getState()\r\n    .editor as EditorState;\r\n  return (\r\n    projectData?.pages?.find((page) => page.uuid === currentPageUUID) ||\r\n    ({} as PageConfig)\r\n  );\r\n};\r\n","// 编辑器自定义事件\r\nexport const events: { [x: string]: any } = {\r\n  redirect(url: string) {\r\n    if (url) {\r\n      window.location.href = url;\r\n    }\r\n  },\r\n\r\n  alert(msg: string) {\r\n    if (msg) {\r\n      // eslint-disable-next-line no-alert\r\n      alert(msg);\r\n    }\r\n  },\r\n};\r\n\r\nexport const eventList = [\r\n  {\r\n    key: \"redirect\",\r\n    label: \"跳转事件\",\r\n    event: events.redirect,\r\n    param: \"\",\r\n  },\r\n  {\r\n    key: \"alert\",\r\n    label: \"alert 事件\",\r\n    event: events.alert,\r\n    param: \"\",\r\n  },\r\n];\r\n","import { AnimationItem } from \"./animationClassData\";\r\n\r\nexport default async function runAnimation(\r\n  $el: any,\r\n  animations: AnimationItem[] = []\r\n) {\r\n  const play = (animation: AnimationItem) =>\r\n    new Promise<void>((resolve) => {\r\n      const { animationTime, value = \"\", isLoop = false } = animation;\r\n      $el.style.setProperty(\"--time\", animationTime + \"s\");\r\n      $el.classList.add(value, \"animate__animated\", utilsHandle(isLoop));\r\n      const removeAnimation = () => {\r\n        $el.removeEventListener(\"animationend\", removeAnimation);\r\n        $el.removeEventListener(\"animationcancel\", removeAnimation);\r\n        $el.classList.remove(value, \"animate__animated\", utilsHandle(isLoop));\r\n        $el.style.removeProperty(\"--time\");\r\n        resolve();\r\n      };\r\n\r\n      $el.addEventListener(\"animationend\", removeAnimation);\r\n      $el.addEventListener(\"animationcancel\", removeAnimation);\r\n    });\r\n\r\n  for (let i = 0, len = animations.length; i < len; i++) {\r\n    await play(animations[i]);\r\n  }\r\n}\r\n\r\nfunction utilsHandle(isLoop: boolean) {\r\n  return isLoop ? \"animate__infinite\" : \"animate__no-infinite\";\r\n}\r\n","export function getComponentWrapStyle(style: { [x: string]: string }) {\r\n  const result: { [x: string]: string } = {};\r\n  [\"width\", \"height\", \"top\", \"left\", \"rotate\"].forEach((attr) => {\r\n    if (attr !== \"rotate\") {\r\n      result[attr] = style[attr];\r\n    } else {\r\n      result.transform = \"rotate(\" + style[attr] + \"deg)\";\r\n    }\r\n  });\r\n\r\n  return result;\r\n}\r\n\r\n// 需要单位的样式\r\nconst needUnit = [\r\n  \"fontSize\",\r\n  \"width\",\r\n  \"height\",\r\n  \"top\",\r\n  \"left\",\r\n  \"borderWidth\",\r\n  \"letterSpacing\",\r\n  \"borderRadius\",\r\n];\r\n\r\nconst svgFilterAttrs = [\"width\", \"height\", \"top\", \"left\", \"rotate\"];\r\n\r\nexport function getStyle(\r\n  style: { [x: string]: string },\r\n  filter: string[] = []\r\n) {\r\n  const result: { [x: string]: string } = {};\r\n  Object.keys(style).forEach((key) => {\r\n    if (!svgFilterAttrs.includes(key)) {\r\n      if (key !== \"rotate\") {\r\n        result[key] = style[key];\r\n\r\n        // if (needUnit.includes(key)) {\r\n        //   result[key] += \"px\";\r\n        // }\r\n      } else {\r\n        result.transform = key + \"(\" + style[key] + \"deg)\";\r\n      }\r\n    }\r\n  });\r\n\r\n  return result;\r\n}\r\n","// extracted by mini-css-extract-plugin\nexport default {\"content\":\"index_content__kZcTY\"};","// extracted by mini-css-extract-plugin\nexport default {\"component-wrap\":\"index_component-wrap__7Gp8d\"};","import { CSSProperties, ReactElement, useEffect, useRef } from \"react\";\r\nimport { ComponentListItem } from \"@/custom-component/component-list\";\r\nimport styles from \"./index.less\";\r\nimport runAnimation from \"@/utils/runAnimation\";\r\nimport { events } from \"@/utils/event\";\r\n\r\ninterface PreviewComponentWrapProps {\r\n  element: ComponentListItem;\r\n  children: ReactElement;\r\n  defaultStyle: CSSProperties;\r\n  style: CSSProperties;\r\n}\r\n\r\nconst PreviewComponentWrap: React.FC<PreviewComponentWrapProps> = ({\r\n  element,\r\n  children,\r\n  defaultStyle,\r\n  style,\r\n}) => {\r\n  const ref = useRef<HTMLDivElement>(null);\r\n\r\n  useEffect(() => {\r\n    if (!element.fns) {\r\n      element.fns = {};\r\n    }\r\n    if (element.animations.length > 0) {\r\n      element.fns[\"animation\"] = () => {\r\n        runAnimation(ref.current, element.animations);\r\n      };\r\n      element.fns[\"animation\"]();\r\n    }\r\n    for (let event in element.events) {\r\n      element.fns[event] = () => events[event](element.events[event]);\r\n      if (ref.current) {\r\n        ref.current.style.cursor = \"pointer\";\r\n        ref.current.onclick = element.fns[event];\r\n      }\r\n    }\r\n  }, []);\r\n\r\n  return (\r\n    <div ref={ref} className={`${styles[\"component-wrap\"]}`} style={style}>\r\n      {children}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PreviewComponentWrap;\r\n","import styles from \"./index.less\";\r\nimport { ComponentListItem } from \"@/custom-component/component-list\";\r\nimport Text from \"@/custom-component/Text\";\r\nimport Button from \"@/custom-component/Button\";\r\nimport Rect from \"@/custom-component/Rect\";\r\nimport Circle from \"@/custom-component/Circle\";\r\nimport Image from \"@/custom-component/Image\";\r\nimport Music from \"@/custom-component/Music\";\r\nimport \"animate.css\";\r\nimport PreviewComponentWrap from \"@/components/PreviewComponentWrap\";\r\nimport { getComponentWrapStyle } from \"@/utils/style\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { getPageDetail } from \"@/api\";\r\nimport { FlipType, ProjectConfig } from \"../../types/config\";\r\nimport { Swiper, SwiperSlide } from \"swiper/react\";\r\nimport \"swiper/css\";\r\n\r\ninterface ViewProps {\r\n  id?: string;\r\n  projectData?: ProjectConfig;\r\n}\r\n\r\nconst View: React.FC<ViewProps> = ({\r\n  id: propsId,\r\n  projectData: propsProjectData,\r\n}) => {\r\n  const [projectData, setProjectData] = useState<ProjectConfig>();\r\n  const { id } = useParams();\r\n\r\n  useEffect(() => {\r\n    async function getDetail() {\r\n      try {\r\n        const res = await getPageDetail(id || propsId || \"\");\r\n        setProjectData(res.result);\r\n      } catch (e) {\r\n        console.log(e);\r\n      }\r\n    }\r\n    if (!propsProjectData) {\r\n      getDetail();\r\n    } else {\r\n      setProjectData(propsProjectData);\r\n    }\r\n  }, []);\r\n\r\n  const getComponent = (item: ComponentListItem) => {\r\n    switch (item.component) {\r\n      case \"Text\": {\r\n        return <Text element={item} />;\r\n      }\r\n\r\n      case \"Button\": {\r\n        return <Button element={item} />;\r\n      }\r\n\r\n      case \"Rect\": {\r\n        return <Rect element={item} />;\r\n      }\r\n\r\n      case \"Circle\": {\r\n        return <Circle element={item} />;\r\n      }\r\n\r\n      case \"Image\": {\r\n        return <Image propValue={item.propValue} />;\r\n      }\r\n\r\n      case \"Music\": {\r\n        return <Music element={item} />;\r\n      }\r\n\r\n      default: {\r\n        return <Text element={item} />;\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {projectData?.isPublish ? (\r\n        <Swiper\r\n          direction={\r\n            projectData?.flipType === FlipType.UpDown\r\n              ? \"vertical\"\r\n              : \"horizontal\"\r\n          }\r\n          style={{\r\n            width: projectData?.width,\r\n            height: projectData?.height,\r\n          }}\r\n          slidesPerView={1}\r\n          onSlideChange={() => console.log(\"slide change\")}\r\n          onSwiper={(swiper) => console.log(swiper)}\r\n        >\r\n          {projectData?.pages?.map((page) => {\r\n            return (\r\n              <SwiperSlide key={page.uuid} style={{ width: \"100%\" }}>\r\n                <div\r\n                  style={{\r\n                    width: projectData.width,\r\n                    height: projectData.height,\r\n                    transform: `scale(${projectData.scale / 100})`,\r\n                    ...page?.pageStyle,\r\n                    backgroundImage: page?.pageStyle\r\n                      ? `url(${page?.pageStyle.backgroundImage})`\r\n                      : \"\",\r\n                  }}\r\n                >\r\n                  <div className={styles.content}>\r\n                    <div style={{ ...projectData.canvasStyleData }}>\r\n                      {page?.componentData.map((item) => {\r\n                        return (\r\n                          <PreviewComponentWrap\r\n                            key={item.id}\r\n                            defaultStyle={item.style}\r\n                            style={getComponentWrapStyle(item.style)}\r\n                            element={item}\r\n                          >\r\n                            {getComponent(item)}\r\n                          </PreviewComponentWrap>\r\n                        );\r\n                      })}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </SwiperSlide>\r\n            );\r\n          })}\r\n        </Swiper>\r\n      ) : (\r\n        <></>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default View;\r\n"],"names":["flipTypeOptions","label","value","FlipType","statusOptions","Status","TextArea","Input","refresh","id","onClose","props","useState","spinLoading","setSpinLoading","loading","setLoading","imageUrl","setImageUrl","projectData","setProjectData","Form","form","handleSave","validateFields","values","getFieldsValue","updatePage","coverImage","response","result","url","setTimeout","message","handleSaveAndPublish","isPublish","useEffect","getPageDetail","res","setFieldsValue","require","console","log","getDetail","uploadButton","LoadingOutlined","PlusOutlined","style","marginTop","title","width","maskClosable","spinning","layout","labelAlign","labelCol","span","wrapperCol","onValuesChange","gutter","name","valuePropName","getValueFromEvent","e","Array","isArray","fileList","listType","className","showUploadList","headers","authorization","store","user","access_token","action","config","onChange","info","file","status","img","callback","reader","FileReader","addEventListener","readAsDataURL","getBase64","originFileObj","src","alt","options","styles","View","type","onClick","element","Text","propValue","height","overflow","autoPlay","useSelector","state","editor","editMode","curComponent","setComponentContent","useAction","canEdit","setCanEdit","textRef","useRef","handleBlur","target","contains","current","content","innerHTML","clearSelectText","window","removeEventListener","selectText","selection","getSelection","range","document","createRange","selectNodeContents","removeAllRanges","addRange","ref","verticalAlign","contentEditable","onDoubleClick","onMouseDown","stopPropagation","dangerouslySetInnerHTML","__html","dispatch","useDispatch","project","ActionTypes","payload","setCurrentPageUUID","uuid","addPage","deletePage","copyPage","setEditor","addComponent","component","setCurComponent","curComponentIndex","setWrapStyle","stlyes","setClickComponentStatus","setComponetData","componentData","setComponentStyle","deleteComponent","index","upComponent","downComponent","topComponent","bottomComponent","updateComponentPropValue","recordSnapshot","undo","redo","copy","paste","isMouse","cut","showContextMenu","hideContextMenu","clearCanvas","getCurrentPage","currentPageUUID","pages","find","page","events","redirect","location","href","alert","msg","eventList","key","event","param","runAnimation","$el","animations","play","animation","Promise","resolve","animationTime","isLoop","setProperty","classList","add","utilsHandle","removeAnimation","remove","removeProperty","i","len","length","getComponentWrapStyle","forEach","attr","transform","children","defaultStyle","fns","cursor","onclick","propsId","propsProjectData","useParams","getComponent","item","Button","Rect","Circle","Image","Music","direction","flipType","slidesPerView","onSlideChange","onSwiper","swiper","map","scale","pageStyle","backgroundImage","canvasStyleData"],"sourceRoot":""}