"use strict";(self.webpackChunkts_react_app=self.webpackChunkts_react_app||[]).push([[637],{37:function(e,n,t){t.d(n,{Z:function(){return R}});var a="index_components-page-header__Pr3YH",i="index_page-header-inner__TsH1F",l="index_logo-wrapper__hRPiE",o="index_header-center-wrapper__UGho8",r="index_user-wrapper__MV+Q4",c=t(1569),s=t(7689),u=t(9439),d=t(9529),m=t(1752),p=t(92),f=t(7382),h=t(4399),v=t(7309),x=t(2791),_=t(1413),b=t(4925),j=t(9286),g=t(3801),Z=t(9553),y="index_user-info__ihf+w",C="index_item__19k3T",k="index_label__4RX8u",w=t(184),I=["userInfo"],S=function(e){var n=e.userInfo,t=(0,b.Z)(e,I);return(0,w.jsx)(g.Z,(0,_.Z)((0,_.Z)({width:400,footer:null},t),{},{children:(0,w.jsxs)("div",{className:y,children:[(0,w.jsx)(Z.Z,{style:{display:"block",marginBottom:20},name:"avatar",listType:"picture-card",showUploadList:!1,action:"https://www.mocky.io/v2/5cc8019d300000980a055e76",children:(0,w.jsx)(j.Z,{})}),(0,w.jsxs)("div",{className:C,children:[(0,w.jsx)("p",{className:k,children:"\u6635\u79f0\uff1a"}),null===n||void 0===n?void 0:n.username]}),(0,w.jsxs)("div",{className:C,children:[(0,w.jsx)("p",{className:k,children:"\u7528\u6237\u540d\uff1a"}),null===n||void 0===n?void 0:n.username]}),(0,w.jsxs)("div",{className:C,children:[(0,w.jsx)("p",{className:k,children:"\u90ae\u7bb1\uff1a"}),null===n||void 0===n?void 0:n.username]}),(0,w.jsxs)("div",{className:C,children:[(0,w.jsx)("p",{className:k,children:"\u6ce8\u518c\u65f6\u95f4\uff1a"}),null===n||void 0===n?void 0:n.username]})]})}))},N=t(1543),L=t(5048),D=function(){var e=(0,L.v9)((function(e){return e.user})).userInfo,n=(0,x.useState)(!1),t=(0,u.Z)(n,2),a=t[0],i=t[1],l=(0,N.Z)(),o=l.isLogin,r=l.doLogOut,c=l.goLogin,s=[{label:(0,w.jsxs)("div",{onClick:function(){return i(!0)},children:[(0,w.jsx)(d.Z,{})," \u4e2a\u4eba\u8d44\u6599"]}),key:"item-1"},{label:(0,w.jsxs)("div",{children:[(0,w.jsx)(m.Z,{})," \u4fee\u6539\u5bc6\u7801"]}),key:"item-2"},{label:(0,w.jsxs)("div",{onClick:function(){r()},children:[(0,w.jsx)(p.Z,{})," \u9000\u51fa\u767b\u5f55"]}),key:"item-3"}];return(0,w.jsxs)(w.Fragment,{children:[o?(0,w.jsx)(f.Z,{menu:{items:s},children:(0,w.jsxs)("div",{style:{whiteSpace:"nowrap"},children:[(0,w.jsx)(h.C,{icon:(0,w.jsx)(d.Z,{})})," ",null===e||void 0===e?void 0:e.username]})}):(0,w.jsx)(v.Z,{type:"link",onClick:c,children:"\u767b\u5f55"}),(0,w.jsx)(S,{userInfo:e,open:a,onCancel:function(){return i(!1)}})]})},R=function(e){var n=e.children,t=(0,s.s0)();return(0,w.jsx)("div",{className:a,children:(0,w.jsxs)("div",{className:i,children:[(0,w.jsxs)("div",{className:l,onClick:function(){t("/home/my-work",{replace:!1})},children:[(0,w.jsx)("img",{className:"cursor-pointer",src:c}),(0,w.jsx)("span",{children:"Lucky H5"})]}),(0,w.jsx)("div",{className:o,children:n}),(0,w.jsx)("div",{className:r,children:(0,w.jsx)(D,{})})]})})}},393:function(e,n,t){t.r(n),t.d(n,{default:function(){return hn}});for(var a=t(4165),i=t(5861),l=t(9439),o=t(3695),r=t(3099),c=t(7309),s=t(3344),u=t(5048),d=t(6210),m=t(8427),p="index_toolbar__EyRSS",f="index_canvas-config__UNbhC",h=t(5498),v=t.n(h),x=t(757),_=t(3235),b=t(2791),j=t(184),g=function(){var e=(0,u.v9)((function(e){return e.editor})),n=e.projectData,t=e.editor,h=(0,u.I0)(),g=(0,d.Z)(),Z=g.undo,y=g.redo,C=g.clearCanvas,k=(0,b.useState)(!1),w=(0,l.Z)(k,2),I=w[0],S=w[1],N=function(e,t){h({type:m.M.SetCanvasStyleData,payload:{width:"width"===e?t:n.width,height:"height"===e?t:n.height,scale:"scale"===e?t:n.scale}})},L=function(){var e=(0,i.Z)((0,a.Z)().mark((function e(){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,x.T$)(n);case 3:o.ZP.success("\u4fdd\u5b58\u6210\u529f"),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),o.ZP.error("\u4fdd\u5b58\u5931\u8d25");case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}();return(0,j.jsxs)(r.Z,{className:p,children:[(0,j.jsx)(c.Z,{onClick:Z,children:"\u64a4\u9500"}),(0,j.jsx)(c.Z,{onClick:y,children:"\u91cd\u505a"}),(0,j.jsx)(c.Z,{onClick:C,children:"\u6e05\u7a7a\u753b\u5e03"}),(0,j.jsx)(c.Z,{onClick:function(){v()(t,{useCORS:!0}).then((function(e){document.body.appendChild(e)}))},children:"\u622a\u56fe"}),(0,j.jsxs)("div",{className:f,children:[(0,j.jsx)("span",{children:"\u753b\u5e03\u5927\u5c0f"}),(0,j.jsx)(s.Z,{type:"text",value:n.width,onChange:function(e){return N("width",e)}}),(0,j.jsx)("span",{children:"*"}),(0,j.jsx)(s.Z,{type:"text",value:n.height,onChange:function(e){return N("height",e)}})]}),(0,j.jsxs)("div",{className:f,children:[(0,j.jsx)("span",{children:"\u753b\u5e03\u6bd4\u4f8b"}),(0,j.jsx)(s.Z,{type:"text",value:n.scale,onChange:function(e){return N("scale",e)}})," ","%"]}),(0,j.jsx)(c.Z,{style:{marginLeft:24},onClick:L,children:"\u4fdd\u5b58\u9879\u76ee"}),(0,j.jsx)(c.Z,{style:{marginLeft:24},onClick:function(){return S(!0)},children:"\u4fdd\u5b58\u9884\u89c8"}),I&&(0,j.jsx)(_.Z,{id:n._id,open:I,onClose:function(){return S(!1)}})]})},Z="index_home__T7o88",y="index_left__jrknh",C="index_right__az-uT",k="index_attr-list__B-sIL",w="index_center__OJEkm",I="index_content__vMRWo",S="index_component-list__ylvdx",N="index_component-item__EKKY5",L=t(1413),D={animations:[],events:{},groupStyle:{},isLock:!1,collapseName:"style",linkage:{duration:0,data:[{id:"",label:"",event:"",style:[{key:"",value:""}]}]}},R=[{component:"Text",label:"\u6587\u5b57",propValue:"\u53cc\u51fb\u7f16\u8f91\u6587\u5b57",icon:"wenben",style:{width:200,height:28,fontSize:"",fontWeight:400,lineHeight:"",letterSpacing:0,textAlign:"",color:""}},{component:"Button",label:"\u6309\u94ae",propValue:"\u53cc\u51fb\u7f16\u8f91\u6309\u94ae",icon:"anniu",style:{width:100,height:34,borderWidth:1,borderColor:"",borderRadius:"",fontSize:"",fontWeight:400,lineHeight:"",letterSpacing:0,textAlign:"",color:"",backgroundColor:""}},{component:"Rect",label:"\u77e9\u5f62",propValue:"",icon:"xingzhuang-juxing",style:{width:100,height:100,fontSize:"",fontWeight:400,lineHeight:"",letterSpacing:0,textAlign:"center",color:"",borderColor:"#000",borderWidth:1,backgroundColor:"#fff",borderStyle:"solid",borderRadius:"",verticalAlign:"middle"}},{component:"Circle",label:"\u5706\u5f62",propValue:"",icon:"radio-on",style:{width:100,height:100,fontSize:"",fontWeight:400,lineHeight:"",letterSpacing:0,textAlign:"center",color:"",borderColor:"#000",borderWidth:1,backgroundColor:"#fff",borderStyle:"solid",borderRadius:"",verticalAlign:"middle"}},{component:"Image",label:"\u56fe\u7247",propValue:"https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/b11570bf5df54cea9728f1765e3b9e7b~tplv-k3u1fbpfcp-watermark.image?",icon:"tupian",style:{width:200,height:200}},{component:"Music",label:"\u97f3\u4e50",propValue:"https://other-web-ra01-sycdn.kuwo.cn/5c650cd4d3b798405ed9bfab4ae1fe18/63941698/resource/n3/320/31/1/1060334909.mp3",icon:"tupian",style:{width:200,height:200}}],O=0,E=R.length;O<E;O++){var P=R[O];R[O]=(0,L.Z)((0,L.Z)({},D),P)}var T=R,V=function(){return(0,j.jsx)("div",{className:S,onDragStart:function(e){e.dataTransfer.setData("index",e.target.dataset.index)},children:T.map((function(e,n){return(0,j.jsx)("div",{className:N,draggable:!0,"data-index":n,children:(0,j.jsx)("span",{className:"iconfont icon-".concat(e.icon)})},n)}))})},A="index_real-time-component-list__7XXGa",M="index_real-time-component-item__QCdrt",U="index_icon-container__4tQrG",B="index_icon__87K-i",F="index_actived__cqntY",X=function(){var e=(0,d.F)().componentData,n=(0,u.v9)((function(e){return e.editor})).curComponentIndex,t=(0,d.Z)(),a=t.setCurComponent,i=t.deleteComponent,l=t.upComponent,o=t.downComponent,r=t.recordSnapshot,c=function(n){return e.length-1-n},s=function(n){return e[e.length-1-n]},m=function(){setTimeout((function(){l(),r()}))},p=function(){setTimeout((function(){o(),r()}))},f=function(){setTimeout((function(){i(),r()}))};return(0,j.jsx)("div",{className:A,children:null===e||void 0===e?void 0:e.map((function(t,i){return(0,j.jsxs)("div",{className:"".concat(M," ").concat(c(i)===n?F:""),onClick:function(){return function(n){a({curComponent:e[n],curComponentIndex:n})}(c(i))},children:[(0,j.jsx)("span",{className:"iconfont ".concat("icon-"+s(i).icon," ").concat(B)}),(0,j.jsx)("span",{children:s(i).label}),(0,j.jsxs)("div",{className:U,children:[(0,j.jsx)("span",{className:"iconfont icon-shangyi ".concat(B),onClick:m}),(0,j.jsx)("span",{className:"iconfont icon-xiayi ".concat(B),onClick:p}),(0,j.jsx)("span",{className:"iconfont icon-shanchu ".concat(B),onClick:f})]})]},t.id)}))})},Y=t(2551),z=t(2894),W=t(940),H=t(4093),K=t(4257),G=function(e){var n=e.value,t=e.onChange,a=(0,b.useState)(!1),i=(0,l.Z)(a,2),o=i[0],r=i[1],c=(0,b.useState)({}),s=(0,l.Z)(c,2),u=s[0],d=s[1];(0,b.useEffect)((function(){d(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(4===e.length){var n=e.slice(1);e="#"+n.split("").map((function(e){return e+e})).join("")}return{r:parseInt("0x"+e.slice(1,3)),g:parseInt("0x"+e.slice(3,5)),b:parseInt("0x"+e.slice(5,7)),a:1}}(n))}),[n]);var m=(0,H.ZP)({default:{color:{width:"36px",height:"14px",borderRadius:"2px",background:"rgba(".concat(u.r,", ").concat(u.g,", ").concat(u.b,", ").concat(u.a,")")},swatch:{padding:"5px",background:"#fff",borderRadius:"1px",boxShadow:"0 0 0 1px rgba(0,0,0,.1)",display:"inline-block",cursor:"pointer"},popover:{position:"absolute",zIndex:2},cover:{position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}}});return(0,j.jsxs)("div",{children:[(0,j.jsx)("div",{style:m.swatch,onClick:function(){r((function(e){return!e}))},children:(0,j.jsx)("div",{style:m.color})}),o&&(0,j.jsxs)("div",{style:m.popover,children:[(0,j.jsx)("div",{style:m.cover,onClick:function(){r(!1)}}),(0,j.jsx)(K.xS,{color:u,onChange:function(e){null===t||void 0===t||t(e.hex)}})]})]})},Q=b.memo(G),J="index_attr-container__Rg4t2",q="index_title__veC3V",$=function(){var e=(0,d.F)(),n=(0,u.I0)(),t=z.Z.useForm(),a=(0,l.Z)(t,1)[0];return(0,b.useEffect)((function(){a.setFieldsValue(e.pageStyle)}),[e.pageStyle]),(0,j.jsxs)("div",{className:J,children:[(0,j.jsx)("p",{className:q,children:"\u753b\u5e03\u5c5e\u6027"}),(0,j.jsxs)(z.Z,{name:"basic",layout:"vertical",form:a,onValuesChange:function(e,t){n({type:m.M.SetPageStyle,payload:t})},autoComplete:"off",children:[(0,j.jsx)(z.Z.Item,{label:"\u989c\u8272",name:"color",children:(0,j.jsx)(Q,{})}),(0,j.jsx)(z.Z.Item,{label:"\u4e0d\u900f\u660e\u5ea6",name:"opacity",children:(0,j.jsx)(s.Z,{})}),(0,j.jsx)(z.Z.Item,{label:"\u80cc\u666f\u989c\u8272",name:"backgroundColor",children:(0,j.jsx)(Q,{})}),(0,j.jsx)(z.Z.Item,{label:"\u5b57\u4f53\u5927\u5c0f",name:"fontSize",children:(0,j.jsx)(s.Z,{})}),(0,j.jsx)(z.Z.Item,{label:"\u80cc\u666f\u56fe\u7247",name:"backgroundImage",children:(0,j.jsx)(W.Z,{})})]})]})},ee="index_contextmenu__4HYtu",ne=function(){var e=(0,u.v9)((function(e){return e.editor})),n=e.menuLeft,t=e.menuTop,a=e.curComponent,i=(0,d.Z)(),l=i.upComponent,o=i.downComponent,r=i.topComponent,c=i.bottomComponent,s=i.deleteComponent,m=i.setClickComponentStatus,p=i.recordSnapshot,f=i.copy,h=i.paste,v=i.cut,x=function(){h(!0),p()};return(0,j.jsx)("div",{className:ee,style:{top:t,left:n},children:(0,j.jsx)("ul",{onMouseUp:function(e){m(!0)},children:a?(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)("li",{onClick:f,children:"\u590d\u5236"}),(0,j.jsx)("li",{onClick:x,children:"\u7c98\u8d34"}),(0,j.jsx)("li",{onClick:function(){v(),p()},children:"\u526a\u5207"}),(0,j.jsx)("li",{onClick:function(){s(),p()},children:"\u5220\u9664"}),(0,j.jsx)("li",{children:"\u9501\u5b9a"}),(0,j.jsx)("li",{onClick:function(){r(),p()},children:"\u7f6e\u9876"}),(0,j.jsx)("li",{onClick:function(){c(),p()},children:"\u7f6e\u5e95"}),(0,j.jsx)("li",{onClick:function(){l(),p()},children:"\u4e0a\u79fb"}),(0,j.jsx)("li",{onClick:function(){o(),p()},children:"\u4e0b\u79fb"})]}):(0,j.jsx)("li",{onClick:x,children:"\u7c98\u8d34"})})})},te="index_grid__DBs4b",ae=function(){return(0,j.jsxs)("svg",{className:te,width:"100%",height:"100%",xmlns:"http://www.w3.org/2000/svg",children:[(0,j.jsxs)("defs",{children:[(0,j.jsx)("pattern",{id:"smallGrid",width:"7.236328125",height:"7.236328125",patternUnits:"userSpaceOnUse",children:(0,j.jsx)("path",{d:"M 7.236328125 0 L 0 0 0 7.236328125",fill:"none",stroke:"rgba(207, 207, 207, 0.3)","stroke-width":"1"})}),(0,j.jsxs)("pattern",{id:"grid",width:"36.181640625",height:"36.181640625",patternUnits:"userSpaceOnUse",children:[(0,j.jsx)("rect",{width:"36.181640625",height:"36.181640625",fill:"url(#smallGrid)"}),(0,j.jsx)("path",{d:"M 36.181640625 0 L 0 0 0 36.181640625",fill:"none",stroke:"rgba(186, 186, 186, 0.5)","stroke-width":"1"})]})]}),(0,j.jsx)("rect",{width:"100%",height:"100%",fill:"url(#grid)"})]})},ie="index_component-wrap__Du6xy",le="index_active__XsMbB",oe="index_wrap-point__xZMIL",re=["lt","t","rt","r","rb","b","lb","l"],ce=[{start:338,end:23,cursor:"nw"},{start:23,end:68,cursor:"n"},{start:68,end:113,cursor:"ne"},{start:113,end:158,cursor:"e"},{start:158,end:203,cursor:"se"},{start:203,end:248,cursor:"s"},{start:248,end:293,cursor:"sw"},{start:293,end:338,cursor:"w"}],se=t(6842),ue=function(e){var n=e.active,t=e.element,a=e.index,i=e.children,l=e.defaultStyle,o=e.style,r=(0,u.v9)((function(e){return e.editor})),c=(r.editor,r.curComponent),s=(0,d.Z)(),m=s.setCurComponent,p=s.setComponentStyle,f=s.setClickComponentStatus,h=s.recordSnapshot,v=(0,b.useRef)(null),x=function(e){var n=l.width,t=l.height;n=Number(n),t=Number(t);var a=/t/.test(e),i=/b/.test(e),o=/l/.test(e),r=/r/.test(e),c=0,s=0;return 2===e.length?(c=o?0:n,s=a?0:t):((a||i)&&(c=n/2,s=a?0:t),(o||r)&&(c=o?0:n,s=Math.floor(t/2))),{marginLeft:"-4px",marginTop:"-4px",left:"".concat(c,"px"),top:"".concat(s,"px"),cursor:null===_||void 0===_?void 0:_[e]}},_=(0,b.useMemo)((function(){return function(){if(c){c.style.rotate;var e={};return re.forEach((function(n,t){e[n]=ce[t].cursor+"-resize"})),e}}()}),[c,null===c||void 0===c?void 0:c.style.rotate]);return(0,b.useEffect)((function(){t.fns||(t.fns={}),t.animations.length>0&&(t.fns.animation=function(){(0,se.Z)(v.current,t.animations)})}),[t.animations.length]),(0,j.jsxs)("div",{ref:v,className:"".concat(ie," ").concat(n?le:""),style:o,onMouseDown:function(e){e.preventDefault(),e.stopPropagation(),f(!0),m({curComponent:t,curComponentIndex:a});var n=(0,L.Z)({},l),i=e.clientY,o=e.clientX,r=Number(n.top),c=Number(n.left),s=!1,u=function(e){e.stopPropagation(),s=!0;var t=e.clientX,a=e.clientY;n.top=a-i+r,n.left=t-o+c,p(n)};document.addEventListener("mousemove",u),document.addEventListener("mouseup",(function e(){s&&h(),document.removeEventListener("mousemove",u),document.removeEventListener("mouseup",e)}))},children:[n&&(0,j.jsx)(j.Fragment,{children:re.map((function(e){return(0,j.jsx)("div",{className:oe,style:x(e),onMouseDown:function(n){return function(e,n){n.stopPropagation(),n.preventDefault();var t=(0,L.Z)({},l),a=Number(t.width),i=Number(t.height),o=Number(t.left),r=Number(t.top),c=n.clientX,s=n.clientY,u=!1,d=function(n){u=!0;var l=n.clientX,d=n.clientY-s,m=l-c,f=/t/.test(e),h=/b/.test(e),v=/l/.test(e),x=/r/.test(e),_=i+(f?-d:h?d:0),b=a+(v?-m:x?m:0);t.height=_>0?_:0,t.width=b>0?b:0,t.left=o+(v?m:0),t.top=r+(f?d:0),p(t)};document.addEventListener("mousemove",d),document.addEventListener("mouseup",(function e(n){u&&h(),document.removeEventListener("mousemove",d),document.removeEventListener("mouseup",e)}))}(e,n)}},e)}))}),i]})},de=t(1686),me="index_editor__EaTrU",pe=t(3903),fe=t(3394),he=t(1052),ve=t(5274),xe=t(5940),_e="index_area__yudCs",be=function(e){var n=e.style;return(0,j.jsx)("div",{className:_e,style:n})},je=t(5128),ge=function(){var e,n=(0,d.F)(),t=(0,u.v9)((function(e){return e.editor})),a=t.projectData,i=t.curComponent,o=t.menuShow,r=n.pageStyle,c=(0,d.Z)(),s=c.setEditor,m=c.showContextMenu,p=c.hideContextMenu,f=(0,b.useRef)({}),h=(0,b.useState)(!1),v=(0,l.Z)(h,2),x=v[0],_=v[1],g=(0,b.useState)({top:0,left:0,width:0,height:0}),Z=(0,l.Z)(g,2),y=Z[0],C=Z[1],k=function(e){switch(e.component){case"Text":default:return(0,j.jsx)(de.Z,{element:e});case"Button":return(0,j.jsx)(fe.Z,{element:e});case"Rect":return(0,j.jsx)(he.Z,{element:e});case"Circle":return(0,j.jsx)(ve.Z,{element:e});case"Image":return(0,j.jsx)(xe.Z,{propValue:e.propValue});case"Music":return(0,j.jsx)(je.Z,{element:e})}};return(0,b.useEffect)((function(){s(f.current)}),[]),(0,j.jsxs)("div",{className:me,ref:f,onContextMenu:function(e){var n;e.stopPropagation(),e.preventDefault();var t=null===(n=f.current)||void 0===n?void 0:n.getBoundingClientRect(),a=(null===t||void 0===t?void 0:t.x)||0,i=(null===t||void 0===t?void 0:t.y)||0;m({top:e.clientY-i,left:e.clientX-a})},onMouseDown:function(e){e.preventDefault();var n=f.current.getBoundingClientRect(),t=n.x,a=n.y,i=e.clientX-t,l=e.clientY-a,o=function(n){_(!0);var t=Math.abs(n.clientX-e.clientX),a=Math.abs(n.clientY-e.clientY);C({top:n.clientY-e.clientY>0?l:l-a,left:n.clientX-e.clientX>0?i:i-t,width:t,height:a})};document.addEventListener("mousemove",o),document.addEventListener("mouseup",(function e(){_(!1),document.removeEventListener("mousemove",o),document.removeEventListener("mouseup",e)}))},onClick:function(e){2!==e.button&&o&&p()},style:(0,L.Z)((0,L.Z)({width:a.width,height:a.height,transform:"scale(".concat(a.scale/100,")")},r),{},{backgroundImage:r?"url(".concat(r.backgroundImage,")"):""}),children:[(0,j.jsx)(ae,{}),null===n||void 0===n||null===(e=n.componentData)||void 0===e?void 0:e.map((function(e,n){return(0,j.jsx)(ue,{defaultStyle:e.style,style:(0,pe.M)(e.style),active:e.id===(i||{}).id,element:e,index:n,children:k(e)},e.id)})),o&&(0,j.jsx)(ne,{}),x&&(0,j.jsx)(be,{style:y})]})},Ze=t(763),ye=t(63),Ce=t(1951),ke=[{key:"left",label:"x \u5750\u6807"},{key:"top",label:"y \u5750\u6807"},{key:"rotate",label:"\u65cb\u8f6c\u89d2\u5ea6"},{key:"width",label:"\u5bbd"},{key:"height",label:"\u9ad8"},{key:"color",label:"\u989c\u8272"},{key:"backgroundColor",label:"\u80cc\u666f\u8272"},{key:"borderWidth",label:"\u8fb9\u6846\u5bbd\u5ea6"},{key:"borderStyle",label:"\u8fb9\u6846\u98ce\u683c"},{key:"borderColor",label:"\u8fb9\u6846\u989c\u8272"},{key:"borderRadius",label:"\u8fb9\u6846\u534a\u5f84"},{key:"fontSize",label:"\u5b57\u4f53\u5927\u5c0f"},{key:"fontWeight",label:"\u5b57\u4f53\u7c97\u7ec6"},{key:"lineHeight",label:"\u884c\u9ad8"},{key:"letterSpacing",label:"\u5b57\u95f4\u8ddd"},{key:"textAlign",label:"\u5de6\u53f3\u5bf9\u9f50"},{key:"verticalAlign",label:"\u4e0a\u4e0b\u5bf9\u9f50"},{key:"opacity",label:"\u4e0d\u900f\u660e\u5ea6"}],we={textAlign:[{label:"\u5de6\u5bf9\u9f50",value:"left"},{label:"\u5c45\u4e2d",value:"center"},{label:"\u53f3\u5bf9\u9f50",value:"right"}],borderStyle:[{label:"\u5b9e\u7ebf",value:"solid"},{label:"\u865a\u7ebf",value:"dashed"}],verticalAlign:[{label:"\u4e0a\u5bf9\u9f50",value:"top"},{label:"\u5c45\u4e2d\u5bf9\u9f50",value:"middle"},{label:"\u4e0b\u5bf9\u9f50",value:"bottom"}]},Ie=ye.Z.Panel,Se=function(){var e=(0,u.v9)((function(e){return e.editor})).curComponent,n=(0,d.Z)().setComponentStyle,t=z.Z.useForm(),a=(0,l.Z)(t,1)[0],i=(0,b.useMemo)((function(){var n=e||{style:{}},t=Object.keys(n.style);return ke.filter((function(e){return t.includes(e.key)}))}),[e]),o=function(e){return e.indexOf("Color")>=0||e.indexOf("color")>=0?(0,j.jsx)(Q,{},e):e in we?(0,j.jsx)(Ce.Z,{options:we[e]},e):(0,j.jsx)(s.Z,{},e)};return(0,b.useEffect)((function(){a.setFieldsValue(null===e||void 0===e?void 0:e.style)}),[null===e||void 0===e?void 0:e.style,a]),(0,j.jsx)(ye.Z,{defaultActiveKey:["style"],onChange:function(n){e&&(e.collapseName=n)},ghost:!0,children:(0,j.jsx)(Ie,{header:"\u901a\u7528\u6837\u5f0f",children:(0,j.jsx)(z.Z,{name:"basic",layout:"vertical",form:a,onValuesChange:function(e,t){n(t)},autoComplete:"off",children:i.map((function(e,n){var t=e.key,a=e.label;return(0,j.jsx)(z.Z.Item,{label:a,name:t,children:o(t)},n)}))})},"style")})},Ne=function(){var e=(0,u.v9)((function(e){return e.editor})).curComponent,n=(0,d.Z)().setComponentContent;return(0,j.jsxs)("div",{children:[(0,j.jsx)("h3",{children:"TextAttr"}),(0,j.jsx)(Se,{}),(0,j.jsx)(z.Z,{layout:"vertical",initialValues:{content:null===e||void 0===e?void 0:e.propValue},onValuesChange:function(t){e&&n(t.content)},children:(0,j.jsx)(z.Z.Item,{name:"content",label:"\u5185\u5bb9",children:(0,j.jsx)(W.Z,{placeholder:"\u8bf7\u8f93\u5165\u6587\u6848",autoComplete:"off"})})})]})},Le=function(){var e=(0,u.v9)((function(e){return e.editor})).curComponent,n=(0,d.Z)().setComponentContent;return(0,j.jsxs)("div",{children:[(0,j.jsx)("h3",{children:"ButtonAttr"}),(0,j.jsx)(Se,{}),(0,j.jsx)(z.Z,{layout:"vertical",initialValues:{content:null===e||void 0===e?void 0:e.propValue},onValuesChange:function(t){e&&n(t.content)},children:(0,j.jsx)(z.Z.Item,{name:"content",label:"\u5185\u5bb9",children:(0,j.jsx)(W.Z,{placeholder:"\u8bf7\u8f93\u5165\u6587\u6848",autoComplete:"off"})})})]})},De=function(){var e=(0,u.v9)((function(e){return e.editor})).curComponent,n=(0,d.Z)().setComponentContent;return(0,j.jsxs)("div",{children:[(0,j.jsx)("h3",{children:"RectAttr"}),(0,j.jsx)(Se,{}),(0,j.jsx)(z.Z,{layout:"vertical",initialValues:{content:null===e||void 0===e?void 0:e.propValue},onValuesChange:function(t){e&&n(t.content)},children:(0,j.jsx)(z.Z.Item,{name:"content",label:"\u5185\u5bb9",children:(0,j.jsx)(W.Z,{placeholder:"\u8bf7\u8f93\u5165\u6587\u6848",autoComplete:"off"})})})]})},Re=function(){var e=(0,u.v9)((function(e){return e.editor})).curComponent,n=(0,d.Z)().setComponentContent;return(0,j.jsxs)("div",{children:[(0,j.jsx)("h3",{children:"CircleAttr"}),(0,j.jsx)(Se,{}),(0,j.jsx)(z.Z,{layout:"vertical",initialValues:{content:null===e||void 0===e?void 0:e.propValue},onValuesChange:function(t){e&&n(t.content)},children:(0,j.jsx)(z.Z.Item,{name:"content",label:"\u5185\u5bb9",children:(0,j.jsx)(W.Z,{placeholder:"\u8bf7\u8f93\u5165\u6587\u6848",autoComplete:"off"})})})]})},Oe=function(){var e=(0,u.v9)((function(e){return e.editor})).curComponent,n=(0,d.Z)().updateComponentPropValue;return(0,j.jsxs)("div",{children:[(0,j.jsx)("h3",{children:"Image Attr"}),(0,j.jsx)(Se,{}),(0,j.jsx)(z.Z.Item,{children:(0,j.jsx)(W.Z,{value:null===e||void 0===e?void 0:e.propValue,onChange:function(e){var t;t=e.target.value,n(t)}})})]})},Ee=t(7528),Pe=t(8885),Te=[{label:"\u8fdb\u5165",children:[{label:"\u6e10\u663e",value:"animate__fadeIn"},{label:"\u5411\u53f3\u8fdb\u5165",value:"animate__fadeInLeft"},{label:"\u5411\u5de6\u8fdb\u5165",value:"animate__fadeInRight"},{label:"\u5411\u4e0a\u8fdb\u5165",value:"animate__fadeInUp"},{label:"\u5411\u4e0b\u8fdb\u5165",value:"animate__fadeInDown"},{label:"\u5411\u53f3\u957f\u8ddd\u8fdb\u5165",value:"animate__fadeInLeftBig"},{label:"\u5411\u5de6\u957f\u8ddd\u8fdb\u5165",value:"animate__fadeInRightBig"},{label:"\u5411\u4e0a\u957f\u8ddd\u8fdb\u5165",value:"animate__fadeInUpBig"},{label:"\u5411\u4e0b\u957f\u8ddd\u8fdb\u5165",value:"animate__fadeInDownBig"},{label:"\u65cb\u8f6c\u8fdb\u5165",value:"animate__rotateIn"},{label:"\u5de6\u987a\u65f6\u9488\u65cb\u8f6c",value:"animate__rotateInDownLeft"},{label:"\u53f3\u9006\u65f6\u9488\u65cb\u8f6c",value:"animate__rotateInDownRight"},{label:"\u5de6\u9006\u65f6\u9488\u65cb\u8f6c",value:"animate__rotateInUpLeft"},{label:"\u53f3\u9006\u65f6\u9488\u65cb\u8f6c",value:"animate__rotateInUpRight"},{label:"\u5f39\u5165",value:"animate__bounceIn"},{label:"\u5411\u53f3\u5f39\u5165",value:"animate__bounceInLeft"},{label:"\u5411\u5de6\u5f39\u5165",value:"animate__bounceInRight"},{label:"\u5411\u4e0a\u5f39\u5165",value:"animate__bounceInUp"},{label:"\u5411\u4e0b\u5f39\u5165",value:"animate__bounceInDown"},{label:"\u5149\u901f\u4ece\u53f3\u8fdb\u5165",value:"animate__lightSpeedInRight"},{label:"\u5149\u901f\u4ece\u53f3\u9000\u51fa",value:"animate__lightSpeedOutRight"},{label:"\u5149\u901f\u4ece\u5de6\u8fdb\u5165",value:"animate__lightSpeedInLeft"},{label:"\u5149\u901f\u4ece\u5de6\u9000\u51fa",value:"animate__lightSpeedOutLeft"},{label:"\u4e2d\u5fc3X\u8f74\u65cb\u8f6c",value:"animate__flipInX"},{label:"\u4e2d\u5fc3Y\u8f74\u65cb\u8f6c",value:"animate__flipInY"},{label:"\u5de6\u957f\u534a\u5f84\u65cb\u8f6c",value:"animate__rollIn"},{label:"\u7531\u5c0f\u53d8\u5927\u8fdb\u5165",value:"animate__zoomIn"},{label:"\u5de6\u53d8\u5927\u8fdb\u5165",value:"animate__zoomInLeft"},{label:"\u53f3\u53d8\u5927\u8fdb\u5165",value:"animate__zoomInRight"},{label:"\u5411\u4e0a\u53d8\u5927\u8fdb\u5165",value:"animate__zoomInUp"},{label:"\u5411\u4e0b\u53d8\u5927\u8fdb\u5165",value:"animate__zoomInDown"},{label:"\u5411\u53f3\u6ed1\u52a8\u5c55\u5f00",value:"animate__slideInLeft"},{label:"\u5411\u5de6\u6ed1\u52a8\u5c55\u5f00",value:"animate__slideInRight"},{label:"\u5411\u4e0a\u6ed1\u52a8\u5c55\u5f00",value:"animate__slideInUp"},{label:"\u5411\u4e0b\u6ed1\u52a8\u5c55\u5f00",value:"animate__slideInDown"}]},{label:"\u5f3a\u8c03",children:[{label:"\u5f39\u8df3",value:"animate__bounce"},{label:"\u95ea\u70c1",value:"animate__flash"},{label:"\u653e\u5927\u7f29\u5c0f",value:"animate__pulse"},{label:"\u653e\u5927\u7f29\u5c0f\u5f39\u7c27",value:"animate__rubberBand"},{label:"\u5de6\u53f3\u6643\u52a8",value:"animate__headShake"},{label:"\u5de6\u53f3\u6247\u5f62\u6447\u6446",value:"animate__swing"},{label:"\u653e\u5927\u6643\u52a8\u7f29\u5c0f",value:"animate__tada"},{label:"\u6247\u5f62\u6447\u6446",value:"animate__wobble"},{label:"\u5de6\u53f3\u4e0a\u4e0b\u6643\u52a8",value:"animate__jello"},{label:"Y\u8f74\u65cb\u8f6c",value:"animate__flip"}]},{label:"\u9000\u51fa",children:[{label:"\u6e10\u9690",value:"animate__fadeOut"},{label:"\u5411\u5de6\u9000\u51fa",value:"animate__fadeOutLeft"},{label:"\u5411\u53f3\u9000\u51fa",value:"animate__fadeOutRight"},{label:"\u5411\u4e0a\u9000\u51fa",value:"animate__fadeOutUp"},{label:"\u5411\u4e0b\u9000\u51fa",value:"animate__fadeOutDown"},{label:"\u5411\u5de6\u957f\u8ddd\u9000\u51fa",value:"animate__fadeOutLeftBig"},{label:"\u5411\u53f3\u957f\u8ddd\u9000\u51fa",value:"animate__fadeOutRightBig"},{label:"\u5411\u4e0a\u957f\u8ddd\u9000\u51fa",value:"animate__fadeOutUpBig"},{label:"\u5411\u4e0b\u957f\u8ddd\u9000\u51fa",value:"animate__fadeOutDownBig"},{label:"\u65cb\u8f6c\u9000\u51fa",value:"animate__rotateOut"},{label:"\u5de6\u987a\u65f6\u9488\u65cb\u8f6c",value:"animate__rotateOutDownLeft"},{label:"\u53f3\u9006\u65f6\u9488\u65cb\u8f6c",value:"animate__rotateOutDownRight"},{label:"\u5de6\u9006\u65f6\u9488\u65cb\u8f6c",value:"animate__rotateOutUpLeft"},{label:"\u53f3\u9006\u65f6\u9488\u65cb\u8f6c",value:"animate__rotateOutUpRight"},{label:"\u5f39\u51fa",value:"animate__bounceOut"},{label:"\u5411\u5de6\u5f39\u51fa",value:"animate__bounceOutLeft"},{label:"\u5411\u53f3\u5f39\u51fa",value:"animate__bounceOutRight"},{label:"\u5411\u4e0a\u5f39\u51fa",value:"animate__bounceOutUp"},{label:"\u5411\u4e0b\u5f39\u51fa",value:"animate__bounceOutDown"},{label:"\u4e2d\u5fc3X\u8f74\u65cb\u8f6c",value:"animate__flipOutX"},{label:"\u4e2d\u5fc3Y\u8f74\u65cb\u8f6c",value:"animate__flipOutY"},{label:"\u5de6\u957f\u534a\u5f84\u65cb\u8f6c",value:"animate__rollOut"},{label:"\u7531\u5c0f\u53d8\u5927\u9000\u51fa",value:"animate__zoomOut"},{label:"\u5de6\u53d8\u5927\u9000\u51fa",value:"animate__zoomOutLeft"},{label:"\u53f3\u53d8\u5927\u9000\u51fa",value:"animate__zoomOutRight"},{label:"\u5411\u4e0a\u53d8\u5927\u9000\u51fa",value:"animate__zoomOutUp"},{label:"\u5411\u4e0b\u53d8\u5927\u9000\u51fa",value:"animate__zoomOutDown"},{label:"\u5411\u5de6\u6ed1\u52a8\u6536\u8d77",value:"animate__slideOutLeft"},{label:"\u5411\u53f3\u6ed1\u52a8\u6536\u8d77",value:"animate__slideOutRight"},{label:"\u5411\u4e0a\u6ed1\u52a8\u6536\u8d77",value:"animate__slideOutUp"},{label:"\u5411\u4e0b\u6ed1\u52a8\u6536\u8d77",value:"animate__slideOutDown"}]}];Te.forEach((function(e){e.children.forEach((function(e){e.pending=!1,e.isLoop=!1,e.animationTime=1}))}));var Ve=Te,Ae="index_animation-list__wRRhh",Me="index_div-animation__WDZP5",Ue="index_animateWrap__kIHSK",Be="index_animate__mO3pI",Fe="index_tag-item__ijo5U";function Xe(){var e=(0,u.I0)();return{addAnimation:function(n){e({type:m.M.AddAnimation,payload:n})},eidtAnimation:function(n,t){e({type:m.M.EditAnimation,payload:{index:n,animate:t}})},deleteAnimation:function(n){e({type:m.M.DeleteAnimation,payload:n})}}}var Ye=t(4925),ze=t(3801),We=t(5581),He=["config","curIndex","onCancel"],Ke=function(e){var n=e.config,t=e.curIndex,a=e.onCancel,i=(0,Ye.Z)(e,He),o=Xe().eidtAnimation,r=z.Z.useForm(),c=(0,l.Z)(r,1)[0];return(0,j.jsx)(ze.Z,(0,L.Z)((0,L.Z)({title:(null===n||void 0===n?void 0:n.label)+" \u52a8\u753b\u914d\u7f6e",centered:!0,okText:"\u786e\u5b9a",cancelText:"\u53d6\u6d88",onOk:function(){var e=c.getFieldsValue();o(t,e),a()},onCancel:a},i),{},{children:(0,j.jsxs)(z.Z,{form:c,initialValues:(0,L.Z)({},n),autoComplete:"off",children:[(0,j.jsx)(z.Z.Item,{label:"\u52a8\u753b\u65f6\u957f",name:"animationTime",children:(0,j.jsx)(s.Z,{min:.1,precision:2,step:.01})}),(0,j.jsx)(z.Z.Item,{label:"\u662f\u5426\u5faa\u73af",name:"isLoop",valuePropName:"checked",children:(0,j.jsx)(We.Z,{})})]})}))},Ge=t(2414),Qe=function(){var e=(0,u.v9)((function(e){return e.editor})).curComponent,n=Xe(),t=n.addAnimation,o=n.deleteAnimation,s=(0,b.useState)(!1),d=(0,l.Z)(s,2),m=d[0],p=d[1],f={},h=(0,b.useState)(!1),v=(0,l.Z)(h,2),x=v[0],_=v[1],g=(0,b.useState)(),Z=(0,l.Z)(g,2),y=Z[0],C=Z[1],k=(0,b.useState)(0),w=(0,l.Z)(k,2),I=w[0],S=w[1],N=Ve.map((function(e){e.children.forEach((function(e){f[e.value]=b.createRef()}));var n=(0,j.jsx)("div",{className:Ue,children:e.children.map((function(e){return(0,j.jsx)("div",{ref:f[e.value],className:Be,onMouseEnter:function(){return L(e)},onClick:function(){return D(e)},children:(0,j.jsx)("div",{children:e.label})},e.value)}))});return{label:e.label,key:e.label,children:n}})),L=function(){var e=(0,i.Z)((0,a.Z)().mark((function e(n){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.pending){e.next=2;break}return e.abrupt("return");case 2:return n.pending=!0,e.next=5,(0,se.Z)(f[n.value].current,[n]);case 5:setTimeout((function(){n.pending=!1}),100);case 6:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),D=function(e){t(e),p(!1)};return(0,j.jsxs)("div",{className:Ae,children:[(0,j.jsxs)("div",{className:Me,children:[(0,j.jsxs)(r.Z,{children:[(0,j.jsx)(c.Z,{onClick:function(){return p(!0)},children:"\u6dfb\u52a0\u52a8\u753b"}),(0,j.jsx)(c.Z,{onClick:function(){var n;e&&(null===(n=e.fns)||void 0===n||n.animation())},children:"\u9884\u89c8\u52a8\u753b"})]}),(0,j.jsx)("div",{children:e&&e.animations.map((function(e,n){return(0,j.jsx)(Ee.Z,{className:Fe,color:"blue",icon:(0,j.jsx)(Ge.Z,{onClick:function(){_(!0),C(e),S(n)}}),closable:!0,onClose:function(){S(n),o(n)},children:e.label},n)}))})]}),(0,j.jsx)(Pe.Z,{width:420,headerStyle:{display:"none"},bodyStyle:{paddingTop:0,paddingRight:0},placement:"left",open:m,onClose:function(){return p(!1)},children:(0,j.jsx)(Y.Z,{items:N})}),(0,j.jsx)(Ke,{config:y,curIndex:I,open:x,onCancel:function(){return _(!1)}})]})};var Je=t(6299),qe=function(){var e=(0,b.useState)(!1),n=(0,l.Z)(e,2),t=n[0],a=n[1],i=(0,u.v9)((function(e){return e.editor})).curComponent,o=function(){var e=(0,u.I0)();return{addEvent:function(n,t){e({type:m.M.Addevent,payload:{event:n,param:t}})},removeEvent:function(n){e({type:m.M.RemoveEvent,payload:{event:n}})}}}().addEvent,r=(0,b.useRef)(null),s=z.Z.useForm(),d=(0,l.Z)(s,1)[0],p=function(e){var n=d.getFieldValue(e);o(e,n)};(0,b.useEffect)((function(){d.setFieldsValue((0,L.Z)({redirect:"",alert:""},null===i||void 0===i?void 0:i.events))}),[i]);var f=Je.o.map((function(e){var n="redirect"===e.key?(0,j.jsxs)("div",{children:[(0,j.jsx)(z.Z.Item,{name:"redirect",children:(0,j.jsx)(W.Z.TextArea,{ref:r,placeholder:"\u8bf7\u8f93\u5165\u5b8c\u6574\u7684URL"})}),(0,j.jsx)(c.Z,{onClick:function(){return p("redirect")},style:{marginTop:10},children:"\u786e\u8ba4"})]}):(0,j.jsxs)("div",{children:[(0,j.jsx)(z.Z.Item,{name:"alert",children:(0,j.jsx)(W.Z.TextArea,{ref:r,placeholder:"\u8bf7\u8f93\u5165\u8981alert\u7684\u5185\u5bb9"})}),(0,j.jsx)(c.Z,{onClick:function(){return p("alert")},style:{marginTop:10},children:"\u786e\u8ba4"})]});return{label:e.label,key:e.label,children:n}}));return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)("div",{children:(0,j.jsx)(c.Z,{onClick:function(){return a(!0)},children:"\u6dfb\u52a0\u4e8b\u4ef6"})}),(0,j.jsx)(z.Z,{form:d,initialValues:null===i||void 0===i?void 0:i.events,children:(0,j.jsx)(Pe.Z,{width:420,headerStyle:{display:"none"},bodyStyle:{paddingTop:0,paddingRight:0},placement:"left",open:t,onClose:function(){return a(!1)},children:(0,j.jsx)(Y.Z,{items:f})})})]})},$e=(t(2144),t(4942));function en(){var e,n,t=(0,u.v9)((function(e){return e.editor})).curComponent,a=(0,d.Z)(),i=a.copy,l=a.paste,o=a.cut,r=a.undo,c=a.redo,s=a.recordSnapshot,m=a.deleteComponent,p=a.clearCanvas,f=(e={},(0,$e.Z)(e,86,(function(){l(),s()})),(0,$e.Z)(e,89,c),(0,$e.Z)(e,90,r),(0,$e.Z)(e,69,p),e),h=(0,L.Z)({},f),v=(0,L.Z)((0,L.Z)({},f),{},(n={},(0,$e.Z)(n,67,i),(0,$e.Z)(n,88,o),n));(0,b.useEffect)((function(){!function(){var e=!1;window.onkeydown=function(n){var a=n.keyCode;17===a||91===a?e=!0:46==a&&t?(m(),s()):e&&(!v[a]||t&&t.isLock?h[a]&&t&&t.isLock&&(n.preventDefault(),h[a]()):(n.preventDefault(),v[a]()))},window.onkeyup=function(n){17!==n.keyCode&&91!==n.keyCode||(e=!1)}}()}),[])}var nn=t(37),tn=t(7689),an=t(9529),ln=t(1752),on=t(92),rn=t(7382),cn="index_pageList__oRRCT",sn="index_addBtn__yrSBo",un="index_pageItem__Knr95",dn="index_pageItemIndex__+kx0C",mn="index_active__dv4j+",pn=function(e){var n=e.pageConfig,t=(0,u.v9)((function(e){return e.editor}),u.wU).currentPageUUID,a=(0,d.Z)(),i=a.addPage,l=a.deletePage,o=a.copyPage,r=a.setCurrentPageUUID;return(0,j.jsxs)("div",{className:cn,children:[(0,j.jsx)("h2",{children:"\u9875\u9762\u7ba1\u7406"}),null===n||void 0===n?void 0:n.map((function(e,n){return(0,j.jsxs)("div",{className:"".concat(un," ").concat(e.uuid===t?mn:""),onClick:function(){return r(e.uuid)},children:[(0,j.jsxs)("div",{children:[(0,j.jsx)("span",{className:dn,children:n+1}),(0,j.jsxs)("span",{children:["\u7b2c",n+1,"\u9875"]})]}),(0,j.jsx)(rn.Z,{menu:{items:[{label:(0,j.jsxs)("div",{onClick:function(n){n.stopPropagation(),i(e.uuid)},children:[(0,j.jsx)(an.Z,{})," \u65b0\u589e\u9875\u9762"]}),key:"add"},{label:(0,j.jsxs)("div",{onClick:function(n){n.stopPropagation(),o(e.uuid)},children:[(0,j.jsx)(ln.Z,{})," \u590d\u5236\u9875\u9762"]}),key:"copy"},{label:(0,j.jsxs)("div",{onClick:function(n){n.stopPropagation(),l(e.uuid)},children:[(0,j.jsx)(on.Z,{})," \u5220\u9664\u9875\u9762"]}),key:"delete"}]},children:(0,j.jsx)("div",{children:"..."})})]},e.uuid)})),(0,j.jsx)(c.Z,{type:"primary",className:sn,onClick:function(){return i()},children:"\u6dfb\u52a0\u7a7a\u767d\u9875\u9762"})]})},fn=t(330);var hn=function(){var e=(0,u.v9)((function(e){return e.editor})),n=e.projectData,t=e.editor,l=e.isClickComponent,o=e.curComponent,r=(0,d.Z)(),c=r.setProjectData,s=r.addComponent,m=r.recordSnapshot,p=r.setCurComponent,f=r.setClickComponentStatus;en();var h=(0,tn.UO)().id;return(0,b.useEffect)((function(){function e(){return(e=(0,i.Z)((0,a.Z)().mark((function e(){var n;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,x.j)(h||"");case 3:n=e.sent,c(n.result),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),(0,j.jsxs)("div",{className:Z,children:[(0,j.jsx)(nn.Z,{children:(0,j.jsx)(g,{})}),(0,j.jsxs)("main",{children:[(0,j.jsx)("section",{className:y,children:(0,j.jsx)(Y.Z,{style:{height:"100%"},tabPosition:"left",defaultActiveKey:"componentList",items:[{label:"\u7ec4\u4ef6\u5217\u8868",key:"componentList",children:(0,j.jsxs)("div",{children:[(0,j.jsx)(V,{}),(0,j.jsx)(X,{})]})},{label:"\u9875\u9762\u7ba1\u7406",key:"page",children:(0,j.jsx)(pn,{pageConfig:null===n||void 0===n?void 0:n.pages})},{label:"\u7d20\u6750\u5217\u8868",key:"material",children:(0,j.jsx)(fn.default,{isFrame:!0})}]})}),(0,j.jsx)("section",{className:w,children:(0,j.jsx)("div",{className:I,onDrop:function(e){e.preventDefault(),e.stopPropagation();var n=t.getBoundingClientRect(),a=e.dataTransfer.getData("index");if(a){var i=(0,Ze.cloneDeep)(T[a]);i.style.top=e.clientY-n.y,i.style.left=e.clientX-n.x,i.id=Math.random(),s(i),m()}var l=e.dataTransfer.getData("url");if(l){var o=(0,Ze.cloneDeep)(T.find((function(e){return"Image"===e.component})));o.propValue=l,o.style.top=e.clientY-n.y,o.style.left=e.clientX-n.x,o.id=Math.random(),s(o),m()}},onDragOver:function(e){e.preventDefault(),e.dataTransfer.dropEffect="copy"},onMouseDown:function(e){e.stopPropagation(),f(!1)},onClick:function(e){l||p({curComponent:null,curComponentIndex:null})},children:(0,j.jsx)(ge,{})})}),(0,j.jsx)("section",{className:C,children:o?(0,j.jsx)(Y.Z,{defaultActiveKey:"attr",items:[{label:"\u5c5e\u6027",key:"attr",children:(0,j.jsx)("div",{className:k,children:function(e){switch(e){case"Text":return(0,j.jsx)(Ne,{});case"Button":return(0,j.jsx)(Le,{});case"Rect":return(0,j.jsx)(De,{});case"Circle":return(0,j.jsx)(Re,{});case"Image":return(0,j.jsx)(Oe,{})}}(o.component)})},{label:"\u52a8\u753b",key:"animation",children:(0,j.jsx)(Qe,{})},{label:"\u4e8b\u4ef6",key:"events",children:(0,j.jsx)(qe,{})}]}):(0,j.jsx)($,{})})]})]})}},330:function(e,n,t){t.r(n),t.d(n,{default:function(){return C}});var a=t(1413),i=t(4165),l=t(5861),o=t(9439),r=t(757),c=t(9153),s=t(2351),u=t(3695),d=t(2551),m=t(7083),p=t(9553),f=t(7309),h=t(9421),v=t(2791),x="index_container__wuX3Q",_="index_frameContainer__g05-I",b="index_card__2vJlv",j=t(5486),g="index_contextmenu__JmTtx",Z=t(184),y=function(e){var n=e.menuPosition,t=e.id,a=e.btnList,o=e.refresh,c=function(){var e=(0,l.Z)((0,i.Z)().mark((function e(){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,r.EI)({id:t});case 3:u.ZP.success("\u53d1\u5e03\u56fe\u7247\u6210\u529f"),e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0),u.ZP.error("\u53d1\u5e03\u56fe\u7247\u5931\u8d25");case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}(),s=function(){var e=(0,l.Z)((0,i.Z)().mark((function e(){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,r.ao)({id:t});case 3:u.ZP.success("\u5220\u9664\u56fe\u7247\u6210\u529f"),null===o||void 0===o||o(),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0),u.ZP.error("\u5220\u9664\u56fe\u7247\u5931\u8d25");case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),d=function(){var e=(0,l.Z)((0,i.Z)().mark((function e(){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,r.yI)({id:t});case 3:u.ZP.success("\u6dfb\u52a0\u6210\u529f"),null===o||void 0===o||o(),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0),u.ZP.error("\u6dfb\u52a0\u5931\u8d25");case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return(0,Z.jsx)("div",{className:g,style:{top:n.top,left:n.left},children:(0,Z.jsx)("ul",{children:(0,Z.jsxs)(Z.Fragment,{children:[a.includes("publish")&&(0,Z.jsx)("li",{onClick:c,children:"\u53d1\u5e03"}),a.includes("add")&&(0,Z.jsx)("li",{onClick:d,children:"\u6dfb\u52a0\u81f3\u6211\u7684\u7d20\u6750"})," ",a.includes("delete")&&(0,Z.jsx)("li",{onClick:s,children:"\u5220\u9664\u7d20\u6750"})]})})})},C=function(e){var n=e.isFrame,t=void 0!==n&&n,g=(0,v.useState)([]),C=(0,o.Z)(g,2),k=C[0],w=C[1],I=(0,v.useState)(!1),S=(0,o.Z)(I,2),N=S[0],L=S[1],D=(0,v.useState)(""),R=(0,o.Z)(D,2),O=R[0],E=R[1],P=(0,v.useState)(!1),T=(0,o.Z)(P,2),V=T[0],A=T[1],M=(0,v.useState)({left:0,top:0}),U=(0,o.Z)(M,2),B=U[0],F=U[1],X=(0,v.useState)("my"),Y=(0,o.Z)(X,2),z=Y[0],W=Y[1],H={name:"file",action:j.Z.uploadUrl,headers:{authorization:c.Z.getState().user.access_token},showUploadList:!1,onChange:function(e){L(!0),"uploading"!==e.file.status&&console.log(e.file,e.fileList),"done"===e.file.status?(u.ZP.success("".concat(e.file.name," \u4e0a\u4f20\u6210\u529f")),K()):"error"===e.file.status&&(u.ZP.error("".concat(e.file.name," \u4e0a\u4f20\u5931\u8d25")),L(!1))}},K=function(){var e=(0,l.Z)((0,i.Z)().mark((function e(){var n,t,a,l=arguments;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=l.length>0&&void 0!==l[0]?l[0]:"my",e.prev=1,L(!0),"my"!==n){e.next=9;break}return e.next=6,(0,r.xn)();case 6:a=e.sent,e.next=12;break;case 9:return e.next=11,(0,r.nA)();case 11:a=e.sent;case 12:w(null===(t=a)||void 0===t?void 0:t.result),L(!1),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(1),u.ZP.error("\u83b7\u53d6\u6570\u636e\u5931\u8d25"),L(!1);case 20:case"end":return e.stop()}}),e,null,[[1,16]])})));return function(){return e.apply(this,arguments)}}();(0,v.useEffect)((function(){K()}),[]);var G=function(e){e.stopPropagation(),e.preventDefault(),F({top:e.clientY,left:e.clientX}),E(e.target.dataset.id),A(!0)};return(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(d.Z,{defaultActiveKey:"my",items:[{key:"my",label:"\u6211\u7684\u7d20\u6750"},{key:"all",label:"\u7d20\u6750\u5e7f\u573a"}],onChange:function(e){A(!1),W(e),K(e)}}),(0,Z.jsx)(m.Z,{spinning:N,style:{height:"100%"},children:(0,Z.jsx)(Z.Fragment,{children:k.length?(0,Z.jsxs)("div",{onClick:function(e){2!==e.button&&V&&A(!1)},style:{overflow:"auto",height:"100%"},children:["my"===z&&(0,Z.jsx)(p.Z,(0,a.Z)((0,a.Z)({},H),{},{children:(0,Z.jsx)(f.Z,{type:"primary",icon:(0,Z.jsx)(s.Z,{}),children:"\u4e0a\u4f20\u56fe\u7247"})})),(0,Z.jsx)("div",{style:{display:"flex",flexWrap:"wrap",marginTop:12},children:(0,Z.jsxs)("div",{className:t?_:x,onDragStart:function(e){e.dataTransfer.setData("url",e.target.dataset.url)},children:[k.map((function(e){return(0,Z.jsx)("div",{className:b,draggable:!0,"data-url":e.url,"data-id":e._id,onContextMenu:G,children:(0,Z.jsx)("img",{"data-id":e._id,draggable:!1,src:e.url,style:{width:"100%",height:"100%"}})},e.url)})),V&&(0,Z.jsx)(y,{btnList:"my"===z?["delete","publish"]:["add"],menuPosition:B,id:O,refresh:K})]})})]}):(0,Z.jsx)(h.Z,{style:{marginTop:12}})})})]})}}}]);
//# sourceMappingURL=637.588f7a1d.chunk.js.map